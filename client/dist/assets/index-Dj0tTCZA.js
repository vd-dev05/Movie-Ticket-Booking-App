import{r,j as e,u as X,a as Ys,t as Qs,c as Js,b as Te,S as Ks,i as Xs,g as et,d as De,e as Ve,f as ce,h as U,k as qe,R as He,l as I,m as W,n as st,o as Ge,G as We,p as ke,q as $e,s as tt,L as b,Q as Z,v as Ze,B as L,O as _e,C as Ye,T as Qe,D as Je,A as Ke,w as Xe,P as at,x as rt,y as lt,F as ot,z as nt,E as ge,H as be,I as it,J as ct,K as dt,M as es,N as ss,U as xt,V as mt,W as ts,X as Ae,Y as oe,Z as as,_ as rs,$ as ls,a0 as pe,a1 as fe,a2 as ht,a3 as ut,a4 as os,a5 as ns,a6 as pt,a7 as is,a8 as ft,a9 as cs,aa as jt,ab as ds,ac as xs,ad as ms,ae as hs,af as vt,ag as us,ah as gt,ai as ps,aj as fs,ak as bt,al as js,am as vs,an as de,ao as yt,ap as Le,aq as Nt,ar as gs,as as bs,at as ys,au as ne,av as wt,aw as kt,ax as Ct,ay as Mt,az as St,aA as ye,aB as $t,aC as Ne,aD as Pt,aE as Ns,aF as ws,aG as Tt,aH as Dt,aI as ks,aJ as Cs,aK as Lt,aL as Ms,aM as Rt,aN as he,aO as It,aP as zt,aQ as Ot,aR as At,aS as Bt,aT as Ft,aU as Ut,aV as Et,aW as Vt,aX as qt,aY as Ht,aZ as Pe,a_ as B,a$ as Gt,b0 as Wt,b1 as Be}from"./vendor-D4ea6w0T.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function t(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(l){if(l.ep)return;l.ep=!0;const i=t(l);fetch(l.href,i)}})();const Ss=r.createContext(),Zt=({children:s})=>{const a=["light","dark","universi"],[t,o]=r.useState(localStorage.getItem("theme")||"light"),[l,i]=r.useState(localStorage.getItem("color")||"white");r.useEffect(()=>{localStorage.setItem("theme",t),localStorage.setItem("color",l)},[t,l]);const c={theme:t,setTheme:o,color:l,setColor:i,themes:a};return e.jsx(Ss.Provider,{value:c,children:s})},$=()=>r.useContext(Ss),_t=()=>{const s=$(),a=X();return r.useEffect(()=>{const t=setTimeout(()=>{a("/login")},1e3);return()=>clearTimeout(t)},[a]),e.jsx("div",{className:` iphone-12-pro-max:flex flex justify-center items-center h-[100vh] ${s.theme=="dark"?"bg-black":"bg-white"}`,children:e.jsx("img",{src:"/assets/img/logo.png",alt:""})})},Yt=()=>{const s=$(),[a,t]=r.useState(0),[o,l]=r.useState([]),[i,c]=r.useState(!0),[x,d]=r.useState({text:"Find the latest and greatest movie here",highlight:"latest and greatest",img:"assets/img/1.png"}),n=X();r.useEffect(()=>{(async()=>{c(!0);try{const u=await Ys.get("/api/banner.json");if(l(u.data),u.data.length>0){const{titleH1:g,titleColor:N,url:j}=u.data[0];d({text:g,highlight:N,img:j})}}catch(u){console.error("Error fetching data:",u)}finally{c(!1)}})()},[]);const h=r.useCallback(()=>{const f=(a+1)%o.length;if(f===0&&n("/L"),o.length>0){const{titleH1:u,titleColor:g,url:N}=o[f];t(f),d({text:u,highlight:g,img:N})}},[o,a,n]),m=r.useMemo(()=>{const{text:f,highlight:u}=x,g=f.split(u);return e.jsxs(e.Fragment,{children:[g[0],e.jsx("span",{className:"text-primary-textMovie",children:u}),g[1]]})},[x]);return i?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx("div",{className:"spinner-border",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):e.jsxs("div",{className:`iphone-12-pro-max:flex flex-col min-h-screen text-left font-movieTicket font-bold ${s.theme==="dark"?"bg-black text-white":"bg-white"}`,children:[e.jsx("h1",{className:"text-[30px] p-5 ",children:m}),e.jsx("p",{className:"font-normal px-5 ",children:o.length>0?o[a].p:"Initial paragraph text."}),e.jsx("ul",{className:"text-[#d9e1e1] flex mt-5 px-5",children:o.length>0?o.map((f,u)=>e.jsx("li",{className:`mr-1 p-1 rounded-lg ${a===u?"bg-primary-textMovie text-white w-10 h-1 list-none transition ease-out delay-100":"bg-gray-300"}`},u)):e.jsx("p",{children:"Error"})}),e.jsx("div",{className:"px-3 ",children:e.jsx("button",{className:"text-left bg-primary-textMovie mt-5 w-[50px] h-[50px] flex justify-center items-center rounded-full",onClick:h,children:e.jsx("box-icon",{name:"right-arrow-alt",color:"white"})})}),e.jsx("div",{className:"flex justify-center items-center overflow-hidden ",children:e.jsx("img",{src:x.img,alt:"Banner",className:"lg:bg-slate-600 sm:bg-white xl:bg-green-500  iphone-12:min-h-svh w-full object-cover "})})]})};function C(...s){return Qs(Js(s))}const V=r.forwardRef(({className:s,type:a,...t},o)=>e.jsx("input",{type:a,className:C("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none  focus-visible:ring-ring  disabled:cursor-not-allowed disabled:opacity-50 ",s),ref:o,...t}));V.displayName="Input";const Re=Te("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),F=r.forwardRef(({className:s,variant:a,size:t,asChild:o=!1,...l},i)=>{const c=o?Ks:"button";return e.jsx(c,{className:C(Re({variant:a,size:t,className:s})),ref:i,...l})});F.displayName="Button";const Qt={apiKey:"AIzaSyDxRV3ER5-2BCIwzbTT7sTcHh9HD-ap5Xs",authDomain:"movie-ticket-25-659ce.firebaseapp.com",databaseURL:"https://movie-ticket-25-659ce-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"movie-ticket-25-659ce",storageBucket:"movie-ticket-25-659ce.appspot.com",messagingSenderId:"599610268388",appId:"1:599610268388:web:86525e34a432b415286af1"},Ie=Xs(Qt);et(Ie);const ue=De(Ie),O=Ve(Ie),$s=r.createContext(),Jt=({children:s})=>{const[a,t]=r.useState({user:"",phone:"",email:"",loveMovie:[],dataComent:[],card:{name:"",numberCard:"",date:"",cvv:""},dataIdBook:null,dataTicket:{dataMovieBook:null,dataTimeBook:null,dataDayBook:null,total:""},select:!1}),[o,l]=r.useState([]);return e.jsx($s.Provider,{value:{dataUser:a,setDataUser:t,setDataMovie:l,dataMovie:o},children:s})},Ce=()=>r.useContext($s),Kt=ce().shape({name:U().required("Required").min(4,"Must be 4 characters or more"),password:U().required("Required").matches(/^(?=.*[a-zA-Z])(?=.*\d)(?=.*[!@#$%^&*()_+])[A-Za-z\d][A-Za-z\d!@#$%^&*()_+]{7,19}$/,"Password must be 7-19 characters and contain at least one letter, one number and a special character"),confirmedPassword:U().required("Required").oneOf([qe("password"),null],"Password must match"),phone:U().required("Required").matches(/^\+?\d{1,4}?[-.\s]?\(?\d{1,4}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,9}$/,"Must be a valid phone number")}),Xt=ce().shape({password:U().required("Required").matches(/^(?=.*[a-zA-Z])(?=.*\d)(?=.*[!@#$%^&*()_+])[A-Za-z\d][A-Za-z\d!@#$%^&*()_+]{7,19}$/,"Password must be 7-19 characters and contain at least one letter, one number and a special character"),phone:U().required("Required").matches(/^\+?\d{1,4}?[-.\s]?\(?\d{1,4}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,9}$/,"Must be a valid phone number")}),ea=ce().shape({password:U().required("Required"),newPassword:U().required("Required").matches(/^(?=.*[a-zA-Z])(?=.*\d)(?=.*[!@#$%^&*()_+])[A-Za-z\d][A-Za-z\d!@#$%^&*()_+]{7,19}$/,"Password must be 7-19 characters and contain at least one letter, one number and a special character"),confirmPassword:U().required("Required").oneOf([qe("newPassword"),null],"Password must match")}),sa=ce().shape({name:U().required("Required").min(4,"Must be 4 characters or more"),phone:U().required("Required").matches(/^\+?\d{1,4}?[-.\s]?\(?\d{1,4}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,9}$/,"Must be a valid phone number"),address:U().required("City is required").min(2,"City must be at least 2 characters")});ce().shape({password:U().required("Required").matches(/^(?=.*[a-zA-Z])(?=.*\d)(?=.*[!@#$%^&*()_+])[A-Za-z\d][A-Za-z\d!@#$%^&*()_+]{7,19}$/,"Password must be 7-19 characters and contain at least one letter, one number and a special character"),phone:U().required("Required").matches(/^\+?\d{1,4}?[-.\s]?\(?\d{1,4}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,9}$/,"Must be a valid phone number")});const ta=ce({numberCard:U().required("Card number is required").matches(/^\d{16}$/,"Card number must be 16 digits"),nameCard:U().required("Card holder name is required"),date:U().required("Expiry date is required").matches(/^\d{2}\/\d{2}$/,"Expiry date must be in MM/YY format"),numberCVV:U().required("CVV is required").matches(/^\d{3}$/,"CVV must be 3 digits")}),aa=Te("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),G=r.forwardRef(({className:s,...a},t)=>e.jsx(He,{ref:t,className:C(aa(),s),...a}));G.displayName=He.displayName;const R=()=>{$();const s=$(),a=r.useMemo(()=>s.theme==="light"?"dark":"light",[s.theme]),t=r.useMemo(()=>{switch(s.theme){case"dark":return"bg-dark-bg text-white";case"travel":return"bg-Movie-gradient text-white";case"light":default:return"bg-white text-black"}},[s.theme]),o=r.useMemo(()=>s.theme=="dark"?"bg-dark-bg":"bg-white",[s.theme]),l=r.useMemo(()=>s.theme=="dark"?"bg-dark-bg text-light-bg":"bg-white text-black",[s.theme]),i=r.useMemo(()=>s.theme==="dark"?"bg-[#524444]":"bg-[#fff0ef]",[s.theme]),c=r.useMemo(()=>s.theme==="dark"?"text-white":"text-[#a7a1a1]",[s.theme]),x=r.useMemo(()=>s.theme==="dark"?"bg-[#261616]":"bg-[#d3f1e0]",[s.theme]),d=r.useMemo(()=>s.theme==="dark"?"bg-[#261616]":"bg-[#d3f1e0]",[s.theme]),n=r.useMemo(()=>s.theme==="dark"?"bg-[#1a1a1a] text-white":"bg-white text-black",[s.theme]),h=r.useMemo(()=>s.theme==="dark"?"bg-[#130d0d]":"bg-[#fbfbfb]",[s.theme]),m=r.useMemo(()=>{switch(s.theme){case"dark":return"bg-[#1a1414] text-white";case"travel":return"bg-navBar-gradient text-white";case"light":default:return"bg-[#ffffff] text-black"}},[s.theme]),f=r.useMemo(()=>{switch(s.theme){case"dark":return"bg-[#1a1414] text-white";case"travel":return"bg-navBar-gradient text-white";case"light":return"bg-[#ffffff] text-black"}},[s.theme]),u=r.useMemo(()=>{switch(s.theme){case"dark":return"bg-[#221c1c] text-white";case"travel":return"bg-navBar-gradient text-white";case"light":default:return"bg-[#f6f6f6] text-black"}},[s.theme]),g=r.useMemo(()=>{switch(s.theme){case"dark":return"bg-chairMovie-chairSelected   text-white  flex items-center justify-center rounded-lg";case"travel":return"bg-btn-gradient text-white  flex items-center justify-center rounded-lg ";case"light":default:return"bg-chairMovie-chairSelected   text-white  flex items-center justify-center rounded-lg"}},[s.theme]),N=r.useMemo(()=>{switch(s.theme){case"dark":return"bg-[#1a1414] text-white ";case"travel":return"bg-Input-gradient text-white border-none drop-shadow-2xl";case"light":default:return"bg-[#fafafa] text-black"}},[s.theme]),j=r.useMemo(()=>{switch(s.theme){case"dark":return"bg-chairMovie-chairSelected text-white";case"travel":return"bg-[#7555a8] text-white  ";case"light":default:return"bg-chairMovie-chairSelected text-white"}},[s.theme]),p=r.useMemo(()=>{switch(s.theme){case"dark":return"text-white";case"travel":return"text-[#e1e1e1]";case"light":default:return"text-black"}},[s.theme]);return{buttonClasses:m,inputClasses:N,textClasses:p,backGround:n,backGroundTow:h,themePaid:i,themePaidDone:c,themeSusses:x,themeSussesOTp:d,oppositeTheme:a,themeBackGround:l,themeFocus:o,themeUniver:t,btnSubmit:j,buttonCLick:g,buttonNav:f,DatePickerButton:u}},E=s=>{const a=I(Ve());return W(st(a,s)).then(t=>t.exists()?t.val():(console.log("No data available"),null)).catch(t=>{throw console.error("Error fetching data:",t),t})},Fe=s=>{const a=I(O,s);return Ge(a).then(()=>{console.log("Data deleted successfully")}).catch(t=>{throw console.error("Error deleting data:",t),t})},Y=(s,a)=>s.length>a?s.substring(0,a)+"...":s,Ps=s=>{const a=Math.floor(s/60),t=s%60;return`${a.toString().padStart(2)}h ${t.toString().padStart(2,"0")}m`},ra=()=>{const s=$(),{dataUser:a,setDataUser:t}=Ce(),o=X(),l=new We,{themeFocus:i,themeBackGround:c,buttonNav:x}=R(),[d,n]=r.useState(!1),h=()=>{Ze(ue,l).then(f=>{console.log(f),console.log(f.user.reloadUserInfo.localId),t(u=>({...u,email:f.user.email})),a.email&&(L.success("Login Successfull",{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),setTimeout(()=>{o("/home",{state:{key:"value"}})},2e3))}).catch(f=>{console.log(f)})},m=ke({initialValues:{phone:"",password:""},onSubmit:async f=>{const u=await E("users/auth");f.phone===u.phone&&f.password===u.password?(setTimeout(()=>{m.values.phone=" ",m.values.password=" ",o("/home")},1900),L.success("Login Success done!",{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})):L.error("Login Failed.Check your account again!",{position:"top-right",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},validationSchema:Xt});return e.jsxs("div",{className:`iphone-12-pro-max:flex flex flex-col h-[100vh] w-full font-movie ${s.theme=="dark"?"bg-dark-bg text-light-bg":"bg-white"} `,children:[e.jsx("div",{className:" flex justify-center h-56 ",children:e.jsx("img",{src:"/assets/img/logo1.png",className:" h-96 -translate-y-20",alt:""})}),e.jsxs("div",{className:" text-center text-3xl",children:[e.jsx("h1",{className:"font-logo text-4xl",children:"Welcome Back"}),e.jsx("p",{className:"text-xl px-10 text-gray-400",children:"Log in to your account using email or social networks"})]}),e.jsx("div",{children:e.jsxs("div",{className:" px-6 mt-5",children:[e.jsxs(F,{className:`w-full flex mb-10 p-6 border-gray-300  ${x}`,variant:"outline",children:[e.jsx("div",{className:"mr-2",children:e.jsx("box-icon",{type:"logo",name:"apple",color:s.theme=="dark"?"white":"black"})}),e.jsx("div",{children:"Login with Apple"})]}),e.jsxs(F,{onClick:h,className:`w-full outline-none border-gray-300 p-6 ${x}`,variant:"outline",children:[e.jsx("div",{className:"mr-2",children:e.jsx("img",{src:"/assets/img/google.png",className:"w-5",alt:""})}),e.jsx("p",{children:" Login with Google"})]})]})}),e.jsxs("div",{className:"my-10 mx-5 flex flex-col justify-center items-center",children:[e.jsx("hr",{className:"mx-6 border-[1px] bg-white w-full "}),e.jsx("p",{className:` -translate-y-3 w-[250px]  flex justify-center text-gray-400  ${s.theme=="dark"?"bg-dark-bg text-light-bg":"bg-white"} `,children:"Or continue with social account"})]}),e.jsxs("div",{className:"p-5",children:[e.jsxs("form",{onSubmit:m.handleSubmit,children:[e.jsxs("div",{className:`relative border border-gray-300 rounded-lg my-5 p-2  ${m.errors.phone?"border-primary-textMovie":""}  `,children:[e.jsx(V,{value:m.values.phone,name:"phone",onChange:m.handleChange,className:`peer py-5 px-3 w-full outline-none border-none ${c} placeholder-transparent`,required:!0}),e.jsx(G,{htmlFor:"realignPass",className:`absolute left-3 top-1/2 transform ${i} -translate-y-1/2 ${m.errors.phone?"text-primary-textMovie":"text-gray-400"}  transition-all 
      duration-300 peer-focus:-top-0  peer-focus:left-3 peer-focus:${m.errors.phone?"text-primary-textMovie":"text-gray-500"} peer-focus:text-xs
      peer-focus:${i} peer-focus:px-2 ${m.values.phone?"top-0 px-2 left-3 text-xs text-primary-textMovie"+{themeFocus:i}:""}`,children:"Phone"})]}),e.jsx("div",{children:m.errors.phone&&e.jsx("p",{className:"text-primary-textMovie",children:m.errors.phone})}),e.jsxs("div",{className:`relative border border-gray-300 rounded-lg my-5 p-2  ${m.errors.password?"border-primary-textMovie":""}  `,children:[e.jsx(V,{value:m.values.password,name:"password",type:d?"text":"password",onChange:m.handleChange,className:`peer py-5 px-3 w-full outline-none border-none ${c} placeholder-transparent`,required:!0}),e.jsx(G,{htmlFor:"realignPass",className:`absolute left-3 top-1/2 transform ${i} -translate-y-1/2 ${m.errors.password?"text-primary-textMovie":"text-gray-400"}  transition-all 
                              duration-300 peer-focus:-top-0  peer-focus:left-3 peer-focus:${m.errors.password?"text-primary-textMovie":"text-gray-500"} peer-focus:text-xs
                              peer-focus:${i} peer-focus:px-2 ${m.values.password?"top-0 px-2 left-3 text-xs text-primary-textMovie"+{themeFocus:i}:""}`,children:"Password"}),e.jsx("div",{className:"absolute right-4 top-4",children:d?e.jsx($e,{onClick:()=>n(!1)}):e.jsx(tt,{onClick:()=>n(!0)})})]}),e.jsx("div",{children:m.errors.password&&e.jsx("p",{className:"text-primary-textMovie",children:m.errors.password})}),e.jsx("div",{className:"text-right mt-3 mb-5",children:e.jsx(b,{to:"/reset",className:"text-primary-textMovie",children:"Forgot Password ?"})}),e.jsx("button",{type:"submit",className:"w-full bg-primary-textMovie text-white h-14 ",variant:"outline",children:"Login"})]}),e.jsxs("p",{className:"text-center mt-5",children:["Didn't have an account ? ",e.jsx(b,{to:"/signup",className:"text-primary-textMovie",children:"Register"})]}),e.jsx(Z,{})]})]})},le=rt,la=lt,oa=at,Ts=r.forwardRef(({className:s,...a},t)=>e.jsx(_e,{className:C("fixed inset-0  z-50 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...a,ref:t}));Ts.displayName=_e.displayName;const ee=r.forwardRef(({className:s,...a},t)=>e.jsxs(oa,{children:[e.jsx(Ts,{}),e.jsx(Ye,{ref:t,className:C("fixed  bottom-0 rounded-se-3xl rounded-ss-3xl w-[99.9%] max-w-lg   z-50 grid  gap-4 border bg-background p-5 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...a})]}));ee.displayName=Ye.displayName;const se=({className:s,...a})=>e.jsx("div",{className:C("flex flex-col space-y-2 text-center sm:text-left",s),...a});se.displayName="AlertDialogHeader";const ze=({className:s,...a})=>e.jsx("div",{className:C("",s),...a});ze.displayName="AlertDialogFooter";const te=r.forwardRef(({className:s,...a},t)=>e.jsx(Qe,{ref:t,className:C("text-lg font-semibold",s),...a}));te.displayName=Qe.displayName;const ae=r.forwardRef(({className:s,...a},t)=>e.jsx(Je,{ref:t,className:C("text-sm text-muted-foreground",s),...a}));ae.displayName=Je.displayName;const xe=r.forwardRef(({className:s,...a},t)=>e.jsx(Ke,{ref:t,className:C(Re(),s),...a}));xe.displayName=Ke.displayName;const Ds=r.forwardRef(({className:s,...a},t)=>e.jsx(Xe,{ref:t,className:C(Re({variant:"outline"}),"mt-2 sm:mt-0 ",s),...a}));Ds.displayName=Xe.displayName;const na=({text:s,onChange:a,formValues:t,isOpen:o,setItem:l,setIsOpen:i,setData:c,selectedValue:x})=>{const d=$(),{buttonClasses:n,backGround:h,textClasses:m,themeUniver:f}=R(),u=async(g,N)=>{try{c(j=>j.map(p=>p.name===x?{...p,number:g.numberCard,select:!p.select}:p)),L.success("Card added successfully!"),l(j=>({...j,userCard:g})),i(!1)}catch(j){console.log(j)}};return e.jsx("div",{children:e.jsx(le,{open:o,children:e.jsx(ee,{className:`${f}  max-w-full`,children:e.jsxs(se,{children:[e.jsx(te,{children:e.jsx("p",{children:"Add New Card"})}),e.jsx(ae,{children:e.jsx("p",{className:"text-gray-500 mb-5",children:"Add your card details here"})}),e.jsx(ot,{initialValues:t,validationSchema:ta,onSubmit:u,children:({errors:g,touched:N})=>e.jsxs(nt,{children:[e.jsxs("div",{className:"flex w-full flex-col gap-5",children:[e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"border-[1px] rounded-lg border-primary-textMovie p-3 flex flex-col gap-3",children:[e.jsx("label",{htmlFor:"numberCard",className:"text-left text-primary-textMovie",children:"Card Number"}),e.jsx(ge,{className:`${d.theme=="travel"?"bg-[#2E1371] ":h} outline-none w-full`,type:"text",name:"numberCard",id:"numberCard"})]}),e.jsx(be,{name:"numberCard",component:"div",className:"text-red-600 text-sm text-left"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"border-[1px] rounded-lg border-primary-textMovie p-3 flex flex-col gap-3",children:[e.jsx("label",{htmlFor:"nameCard",className:"text-left text-primary-textMovie",children:"Card Holder Name"}),e.jsx(ge,{className:`${d.theme=="travel"?"bg-[#2E1371] ":h} ${m} outline-none w-full`,type:"text",name:"nameCard",id:"nameCard"})]}),e.jsx(be,{name:"nameCard",component:"div",className:"text-red-600 text-sm  text-left"})]}),e.jsxs("div",{className:"flex w-full justify-between gap-x-5 ",children:[e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"border-[1px] rounded-lg border-primary-textMovie p-3 flex flex-col gap-3 ",children:[e.jsx("label",{htmlFor:"date",className:"text-left text-primary-textMovie",children:"Expiry Date"}),e.jsx(ge,{className:`${d.theme=="travel"?"bg-[#2E1371] ":h} ${m} outline-none w-full`,type:"text",name:"date",id:"date",placeholder:"MM/YY"})]}),e.jsx(be,{name:"date",component:"div",className:"text-red-600 text-sm  text-left"})]}),e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"border-[1px] rounded-lg border-primary-textMovie p-3 flex flex-col gap-3 ",children:[e.jsx("label",{htmlFor:"numberCVV",className:"text-left text-primary-textMovie",children:"CVV"}),e.jsx(ge,{className:`${d.theme=="travel"?"bg-[#2E1371] ":h} ${m} outline-none w-full`,type:"password",name:"numberCVV",id:"numberCVV"})]}),e.jsx(be,{name:"numberCVV",component:"div",className:"text-red-600 text-sm  text-left"})]})]})]}),e.jsx("button",{type:"submit",className:"w-full bg-primary-textMovie text-white mt-2 text-xl",children:"Add Card"})]})}),e.jsx(Z,{})]})})})})},ia=r.memo(na),ca=r.forwardRef(({className:s,containerClassName:a,...t},o)=>e.jsx(it,{ref:o,containerClassName:C("flex items-center gap-2 has-[:disabled]:opacity-50",a),className:C("disabled:cursor-not-allowed",s),...t}));ca.displayName="InputOTP";const da=r.forwardRef(({className:s,...a},t)=>e.jsx("div",{ref:t,className:C("flex items-center",s),...a}));da.displayName="InputOTPGroup";const xa=r.forwardRef(({index:s,className:a,...t},o)=>{const l=r.useContext(ct),{char:i,hasFakeCaret:c,isActive:x}=l.slots[s];return e.jsxs("div",{ref:o,className:C("relative flex h-10 w-10  items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",x&&"z-10 ring-2 ring-ring ring-offset-background",a),...t,children:[i,c&&e.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})})]})});xa.displayName="InputOTPSlot";const ma=r.forwardRef(({...s},a)=>e.jsx("div",{ref:a,role:"separator",...s,children:e.jsx(dt,{})}));ma.displayName="InputOTPSeparator";const Ls=s=>{const a=s.replace(/\D/g,"");return a.length===11?`(${a.slice(0,3)}) ${a.slice(3,6)}-${a.slice(6,8)}-${a.slice(8)}`:s},ha=({text:s,isTrue:a,paraPass1:t,paraPass2:o,titlePass:l})=>{const{buttonClasses:i,backGround:c,textClasses:x,backGroundTow:d,themeSussesOTp:n,themeUniver:h}=R();return $(),e.jsx("div",{children:e.jsxs(le,{className:"",open:a,children:[e.jsx(la,{children:s}),e.jsx(ee,{className:`${h} ${x} max-w-[96vw] right-3 h-max  top-[25%] rounded-lg border-none outline-none text-center`,children:e.jsxs(se,{className:"flex items-center ",children:[e.jsxs("div",{className:"flex justify-center items-center h-[200px] ",children:[e.jsx("div",{className:` fixed w-[92px] h-[92px] ${n} animate-move bg-[#d3f1e0] rounded-full flex items-center justify-center`}),e.jsx("div",{className:"bg-chairMovie-chairSelected h-[80px] w-[80px] z-100 absolute flex justify-center items-center rounded-full drop-shadow-2xl",children:e.jsx(es,{size:50,color:"white"})})]}),e.jsxs(te,{className:"text-2xl w-[300px] text-center ",children:[" ",l||"not found"]}),e.jsx(ae,{className:"text-center",children:e.jsx("div",{className:" flex justify-center items-center flex-col gap-3 pb-10",children:e.jsxs("div",{className:"w-[300px] text-base translate-y-5   ",children:[e.jsx("p",{children:t||"not found"}),e.jsx("p",{children:o||"not found"})]})})}),e.jsx("div",{}),e.jsx(xe,{className:"gap-y-5  py-10 w-full mt-5 flex flex-col  ",children:e.jsx("div",{className:"w-full border-none bg-chairMovie-chairSelected h-20 flex justify-center items-center rounded-lg hover:scale-105",children:e.jsx(b,{className:"w-full text-white hover:text-white text-xl p-6 ",to:"/home",children:"Go to Home"})})})]})})]})})},ua=r.memo(ha);function Ue(s=30){if(s<=0||isNaN(s))throw new Error("Length must be a positive integer.");let a="";const t="0123456789";for(let o=0;o<s;o++)a+=t.charAt(Math.floor(Math.random()*t.length));return a}const pa=({text:s,phone:a,setOpen:t,isOpen:o,titlePass:l,paraPass1:i,paraPass2:c})=>{De();const{buttonClasses:x,backGround:d,textClasses:n,backGroundTow:h,themeUniver:m}=R(),[f,u]=r.useState("");r.useState(!0);const[g,N]=r.useState({loading:!1,openSussces:!1}),[j,p]=r.useState(Ue(4)),[y,v]=r.useState();r.useEffect(()=>{if(f>0){const D=setInterval(()=>{u(J=>J-1)},1e3);return()=>clearInterval(D)}},[f]);const A={onChange:D=>{console.log("onChange:",D),D==j&&v(D)}},q=()=>{N(D=>({...D,loading:!0})),setTimeout(()=>{y===j&&N({loading:!1,openSussces:!0}),N(D=>({...D,loading:!1}))},1e3),y==j?L.success("Otp  successfull !",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}):L.warn("Otp not successfull !",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})};return e.jsxs("div",{children:[e.jsx(le,{open:o,onOpenChange:t,children:e.jsx(ee,{className:`${m} ${n} border-none top-[30%] left-10 h-[400px] rounded-2xl iphone-12:w-full   max-w-[90%]  sm:max-w-[80%] iphone-12:left-5 min-[400px]:left-7  lg:max-w-[60%]  `,children:e.jsxs(se,{children:[e.jsx(te,{children:"Enter Otp"}),e.jsx(ae,{className:"flex justify-center items-center text-xl",children:e.jsxs("p",{className:"w-[300px] ",children:["A verification codes has been sent to ",a?Ls(a):null]})}),e.jsx("div",{className:"flex items-center justify-center px-10 py-5",children:e.jsx(ss,{gap:"large",className:" w-full h-[50px] justify-center ",vertical:!0,children:e.jsx(xt.OTP,{length:4,color:"",size:"40px",formatter:D=>D.toUpperCase(),...A})})}),e.jsxs("p",{className:"text-center flex justify-center text-2xl py-2",children:["Otp Code:",j]}),e.jsx(F,{onClick:q,className:"bg-primary-textMovie hover:bg-primary-textMovie hover:scale-105  w-full flex items-center justify-center rounded-lg py-6 text-white  ",children:e.jsxs("span",{className:"flex ",children:[g.loading?e.jsx(mt,{size:20,color:"white",className:"animate-spin mr-2 "}):null,"  Verify   "]})}),e.jsx(ua,{isTrue:g.openSussces,titlePass:l,paraPass1:i,paraPass2:c}),e.jsxs("p",{children:["Didn't receive the code ? ",e.jsxs("span",{className:"text-primary-textMovie cursor-pointer",onClick:()=>{u(30);const D=Ue(4);p(D)},children:["Resend ",f==0?"code":f]})]})]})})}),e.jsx(Z,{containerId:"Otp not successfull !"}),e.jsx(Z,{containerId:"Otp  successfull !"})]})},Rs=r.memo(pa),fa=({text:s,phone:a,setTrue:t,True:o})=>{const[l,i]=r.useState(!1),{buttonClasses:c,backGround:x,textClasses:d,backGroundTow:n}=R();return e.jsx("div",{children:e.jsx(le,{open:o,onOpenChange:t,children:e.jsx(ee,{className:`${n} ${d} border-none top-[30%]  h-[350px] rounded-2xl iphone-12:w-full   max-w-[90%]  sm:max-w-[80%] iphone-12:left-5 min-[400px]:left-7  lg:max-w-[60%] `,children:e.jsxs(se,{children:[e.jsx(te,{className:"my-5",children:"Verify Your Email Address"}),e.jsxs(ae,{className:"flex flex-col justify-center items-center",children:[e.jsx("span",{className:"text-2xl font-bold",children:a?Ls(a):null}),e.jsxs("div",{className:"my-5 w-[250px] ",children:[e.jsx("p",{children:"We will send the authentication code to this mobile number you entered."}),e.jsx("p",{children:"Do you want continue ?"})]})]}),e.jsxs("div",{className:"flex gap-2  w-full my-5  ",children:[e.jsx(xe,{className:" hover:scale-105 w-full h-20 border-primary-textMovie text-primary-textMovie text-2xl",children:"Cancel"}),e.jsx(F,{onClick:()=>i(!0),className:"w-full h-full border-2 border-blac p-[22px] bg-primary-textMovie text-2xl text-white hover:bg-primary-textMovie hover:scale-105",children:"Next"}),e.jsx(Rs,{phone:a,setOpen:i,isOpen:l,titlePass:"Account Created Successfully",paraPass1:"Your account created successfully.",paraPass2:"Find your favorite movie"})]})]})})})})},ja=r.memo(fa),va=()=>{const s=De();console.log(s);const a=$(),{themeBackGround:t,themeFocus:o,themeUniver:l}=R(),[i,c]=r.useState(!1),[x,d]=r.useState(!1),n=ke({initialValues:{name:"",phone:"",password:"",confirmedPassword:""},onSubmit:f=>{console.log(f),L.success("Create account done!",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),c(!0),m()},validationSchema:Kt}),h=()=>{d(!0)},m=async()=>{try{const f=I(O,"users/auth");await oe(f,{name:n.values.name,phone:n.values.phone,password:n.values.password,email:""})}catch(f){console.error("Error adding document: ",f)}};return e.jsx("div",{children:e.jsx("div",{className:` iphone-12-pro-max:flex  flex-col  h-[100vh] text-left font-movie  ${l} `,children:e.jsxs("div",{className:"p-3 text-center",children:[e.jsx("div",{className:"flex justify-center h-56",children:e.jsx("img",{src:"assets/img/logo1.png",className:"h-96 -translate-y-20",alt:"Logo"})}),e.jsxs("div",{className:"",children:[e.jsx("h1",{className:"font-logo text-[29px] text-nowrap  font-movieTicket  ",children:"Create New Account"}),e.jsx("p",{className:"text-xl mt-2",children:"Set up your username and password"}),e.jsx("p",{className:"text-xl mb-4",children:"You can always change it later"})]}),e.jsxs("div",{children:[e.jsxs("form",{onSubmit:n.handleSubmit,className:"flex flex-col  ",children:[e.jsxs("div",{className:`relative border border-gray-300 rounded-lg my-5  p-2 ${n.errors.name?"border-primary-textMovie":""}  `,children:[e.jsx(V,{className:`peer py-5 px-3 w-full outline-none border-none ${t}   placeholder-transparent`,id:"name",name:"name",value:n.values.name,onChange:n.handleChange}),e.jsx(G,{htmlFor:"name",className:`absolute left-3 top-1/2 transform ${o} -translate-y-1/2 ${n.errors.name?"text-primary-textMovie":"text-gray-400"}  transition-all 
                                    duration-300 peer-focus:-top-0  peer-focus:left-3 peer-focus:${n.errors.name?"text-primary-textMovie":"text-gray-500"} peer-focus:text-xs
                                    peer-focus:${o} peer-focus:px-2 ${n.values.name?"top-0 px-2 left-3 text-xs text-primary-textMovie"+{themeFocus:o}:""}`,children:"Name"})]}),e.jsx("div",{className:"text-left p-0 m-0",children:n.errors.name&&e.jsxs("p",{className:"text-red-600",children:[" ",n.errors.name]})}),e.jsxs("div",{className:`relative border border-gray-300 rounded-lg my-5  p-4 ${n.errors.phone?"border-primary-textMovie":""}  `,children:[e.jsx(ts,{id:"phone",name:"phone",value:n.values.phone,onChange:f=>n.setFieldValue("phone",f),placeholder:"",buttonStyle:{border:"none"},inputStyle:{width:"100%",color:t,paddingRight:"10px",border:"none",backgroundColor:a.theme=="dark"?"#1a1a1a":"white"},country:"us",onlyCountries:["us","vn"]}),e.jsx(G,{htmlFor:"phone",className:`absolute left-[82px] top-1/2 transform ${o} -translate-y-1/2 ${n.errors.phone?"text-primary-textMovie":"text-gray-400"} transition-all 
                                    duration-300 peer-focus:-top-0  peer-focus:left-3 peer-focus:text-gray-500 peer-focus:text-xs
                                    peer-focus:${o} peer-focus:px-2 ${n.values.phone?"top-0 px-2 left-3 text-xs "+{themeFocus:o}:""}`,children:"Phone"})]}),e.jsx("div",{className:"text-left p-0 m-0",children:n.errors.phone&&e.jsxs("p",{className:"text-red-600",children:[" ",n.errors.phone]})}),e.jsxs("div",{className:`relative border border-gray-300 rounded-lg my-5  p-2 ${n.errors.password?"border-primary-textMovie":""}  `,children:[e.jsx(V,{className:`peer py-5 px-3 w-full outline-none border-none ${t} placeholder-transparent`,type:x==!0?"password":"text",id:"password",name:"password",value:n.values.password,onChange:n.handleChange}),e.jsx("div",{className:"absolute top-5 right-5",children:x?e.jsx(Ae,{onClick:()=>d(!x)}):e.jsx($e,{onClick:h})}),e.jsx(G,{htmlFor:"realignPass",className:`absolute left-3 top-1/2 transform ${o} -translate-y-1/2 ${n.errors.password?"text-primary-textMovie":"text-gray-400"}  transition-all 
                                    duration-300 peer-focus:-top-0  peer-focus:left-3 peer-focus:${n.errors.password?"text-primary-textMovie":"text-gray-500"} peer-focus:text-xs
                                    peer-focus:${o} peer-focus:px-2 ${n.values.password?"top-0 px-2 left-3 text-xs text-primary-textMovie"+{themeFocus:o}:""}`,children:"Password"})]}),e.jsx("div",{className:"text-left p-0 m-0",children:n.errors.password&&e.jsxs("p",{className:"text-red-600",children:[" ",n.errors.password]})}),e.jsxs("div",{className:`relative border border-gray-300 rounded-lg my-5  p-2 ${n.errors.confirmedPassword?"border-primary-textMovie":""}  `,children:[e.jsx(V,{className:`peer py-5 px-3 w-full outline-none border-none ${t} placeholder-transparent`,type:x==!0?"password":"text",id:"confirmedPassword",name:"confirmedPassword",value:n.values.confirmedPassword,onChange:n.handleChange}),e.jsx("div",{className:"absolute top-5 right-5",children:x?e.jsx(Ae,{onClick:()=>d(!x)}):e.jsx($e,{onClick:h})}),e.jsx(G,{htmlFor:"realignPass",className:`absolute left-3 top-1/2 transform ${o} -translate-y-1/2 ${n.errors.confirmedPassword?"text-primary-textMovie":"text-gray-400"}  transition-all 
                                    duration-300 peer-focus:-top-0  peer-focus:left-3 peer-focus:${n.errors.confirmedPassword?"text-primary-textMovie":"text-gray-500"} peer-focus:text-xs
                                    peer-focus:${o} peer-focus:px-2 ${n.values.confirmedPassword?"top-0 px-2 left-3 text-xs text-primary-textMovie"+{themeFocus:o}:""}`,children:"Re-enter Password"})]}),e.jsx("div",{className:"text-left p-0 m-0",children:n.errors.confirmedPassword&&e.jsxs("p",{className:"text-red-600",children:[" ",n.errors.confirmedPassword]})}),e.jsx(F,{type:"submit",className:"bg-primary-textMovie w-full mt-10 p-6 hover:-translate-y-1 delay-150 hover:scale-105 transition duration-700 ease-in-out focus:bg-chairMovie-chairSelected hover:bg-primary-textMovie",children:e.jsx("span",{className:"text-white ",children:"Signup"})})]}),e.jsx("div",{children:e.jsx(ja,{phone:n.values.phone,setTrue:c,True:i})})]}),e.jsx("div",{children:e.jsxs("p",{className:"mt-20",children:["Already have an account? ",e.jsx(b,{to:"/L",className:"text-primary-textMovie",children:"Login"})]})}),e.jsx(Z,{})]})})})},ga=()=>{const s=$();return e.jsxs("div",{className:`iphone-12-pro-max:flex flex flex-col h-[100vh]  font-movie ${s.theme=="dark"?"bg-dark-bg text-light-bg":"bg-white"} `,children:[e.jsx("div",{className:" flex justify-center h-56",children:e.jsx("img",{src:"/assets/img/logo1.png",className:" h-96 -translate-y-20",alt:""})}),e.jsxs("div",{class:" text-center text-3xl",children:[e.jsx("h1",{className:"font-logo text-3xl",children:"Set a new password"}),e.jsx("p",{className:"text-xl  px-10 text-gray-400",children:"Create a new password. Ensure it differs from previous ones for securtity"})]}),e.jsx("div",{}),e.jsx("div",{className:"p-5",children:e.jsxs("form",{children:[e.jsxs("div",{children:[e.jsx("label",{children:"Password Old"}),e.jsx(V,{type:"number",className:`w-full p-5 mb-5 border-2 ${s.theme=="dark"?"bg-dark-bg text-light-bg":"bg-white"}`})]}),e.jsxs("div",{children:[e.jsx("label",{children:"New Password "}),e.jsx(V,{className:`w-full p-5 mb-5 border-2 ${s.theme=="dark"?"bg-dark-bg text-light-bg":"bg-white"}`,type:"password"})]}),e.jsx("div",{className:"text-right mt-3 mb-5 ",children:e.jsx(b,{className:"text-primary-textMovie",to:"/reset",children:"Other Method ?"})}),e.jsx("div",{children:e.jsx(b,{className:"text-primary-textMovie",to:"/ticket",children:e.jsxs(F,{className:"w-full bg-primary-textMovie  ",variant:"outline",children:[e.jsx("p",{className:"text-white",children:"Submit "})," "]})})}),e.jsxs("p",{className:"text-center mt-5",children:["Login in already password ",e.jsx(b,{className:"text-primary-textMovie",to:"/L",children:"Login"})]})]})})]})},Is=r.forwardRef(({className:s,...a},t)=>e.jsx(as,{ref:t,className:C("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...a}));Is.displayName=as.displayName;const zs=r.forwardRef(({className:s,...a},t)=>e.jsx(rs,{ref:t,className:C("aspect-square h-full w-full",s),...a}));zs.displayName=rs.displayName;const Os=r.forwardRef(({className:s,...a},t)=>e.jsx(ls,{ref:t,className:C("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...a}));Os.displayName=ls.displayName;const Ee=({data:s})=>{const{textClasses:a}=R();return e.jsx("div",{children:e.jsx(pe,{spaceBetween:10,slidesPerView:3,style:{cursor:"default"},children:e.jsx("div",{className:"flex overflow-hidden ",children:s&&s.map(t=>e.jsx(fe,{children:e.jsx("div",{className:"flex-shrink-0  cursor-default  mt-5 ",children:e.jsxs(b,{to:"/itemlove",state:{data:t},className:`${a} hover:${a}  `,children:[e.jsx("div",{className:"saturate-150",children:e.jsx("img",{src:t.poster,alt:t.title,loading:"lazy",className:"rounded-2xl h-[300px] w-[190px]  object-cover "})}),e.jsxs("div",{className:"mt-2",children:[e.jsx("h2",{className:"font-[700]",children:Y(t.title,15)}),e.jsx("p",{className:" text-xs",children:t.theFirm})]})]})})},t.id))})})})},je=({data:s})=>{const{buttonClasses:a,btnSubmit:t,buttonNav:o}=R(),[l,i]=r.useState(s),c=d=>{i(d)},x=({label:d,icon:n,isActive:h,onClick:m})=>e.jsx("div",{children:e.jsx("div",{children:e.jsxs("button",{className:`flex  justify-center items-center text-sm ${h?t:`text-gray-400 ${a}`} p-2 rounded-lg transition-colors duration-300 ease-in-out`,onClick:m,children:[e.jsx("div",{className:"text-xl",children:n}),h&&e.jsx("span",{className:"pl-2",children:d})]})})});return e.jsxs("div",{className:`fixed bottom-0 w-full h-20  shadow-lg flex justify-between p-5 z-40 xl:hidden ${a} `,children:[e.jsx(b,{to:"/home",className:"bg-none",children:e.jsx(x,{label:"Home",icon:e.jsx(ht,{}),isActive:l==="home",onClick:()=>c("home")})}),e.jsx(b,{to:"/search",children:e.jsx(x,{label:"Search",icon:e.jsx(ut,{}),isActive:l==="search",onClick:()=>c("search")})}),e.jsx(b,{to:"/love",children:e.jsx(x,{label:"Love Movie",icon:e.jsx(os,{}),isActive:l==="love",onClick:()=>c("love")})}),e.jsx(b,{to:"/ticket",children:e.jsx(x,{label:"My Tickets",icon:e.jsx(ns,{size:25,className:"-translate-y-[2px]"}),isActive:l==="tickets",onClick:()=>c("tickets")})}),e.jsx(b,{to:"/profile",children:e.jsx(x,{label:"Profile",icon:e.jsx(pt,{size:25,className:"-translate-y-[3px]"}),isActive:l==="user",onClick:()=>c("user")})})]})},ba=bt,ya=r.forwardRef(({className:s,inset:a,children:t,...o},l)=>e.jsxs(is,{ref:l,className:C("flex cursor-default select-none items-center rounded-sm  text-sm outline-none focus:bg-accent data-[state=open]:bg-accent ",a&&"pl-8",s),...o,children:[t,e.jsx(ft,{className:"ml-auto h-4 w-4"})]}));ya.displayName=is.displayName;const Na=r.forwardRef(({className:s,...a},t)=>e.jsx(cs,{ref:t,className:C("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...a}));Na.displayName=cs.displayName;const As=r.forwardRef(({className:s,sideOffset:a=4,...t},o)=>e.jsx(jt,{children:e.jsx(ds,{ref:o,sideOffset:a,className:C("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...t})}));As.displayName=ds.displayName;const we=r.forwardRef(({className:s,inset:a,...t},o)=>e.jsx(xs,{ref:o,className:C("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a&&"pl-8",s),...t}));we.displayName=xs.displayName;const wa=r.forwardRef(({className:s,children:a,checked:t,...o},l)=>e.jsxs(ms,{ref:l,className:C("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:t,...o,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(hs,{children:e.jsx(vt,{className:"h-4 w-4"})})}),a]}));wa.displayName=ms.displayName;const ka=r.forwardRef(({className:s,children:a,...t},o)=>e.jsxs(us,{ref:o,className:C("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...t,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(hs,{children:e.jsx(gt,{className:"h-2 w-2 fill-current"})})}),a]}));ka.displayName=us.displayName;const Bs=r.forwardRef(({className:s,inset:a,...t},o)=>e.jsx(ps,{ref:o,className:C("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",s),...t}));Bs.displayName=ps.displayName;const Ca=r.forwardRef(({className:s,...a},t)=>e.jsx(fs,{ref:t,className:C("-mx-1 my-1 h-px bg-muted",s),...a}));Ca.displayName=fs.displayName;const Fs=s=>({description:s.description,id:s.id,poster:s.poster,title:s.title,theFirm:s.theFirm,type:s.type,language:s.language,total:0,timeBook:0,dateBook:0,seatBook:""}),Ma=()=>{const[s,a]=r.useState([]),[t,o]=r.useState([]);R();const l=$();r.useEffect(()=>{(async()=>{try{const d=await E("data/movies");if(d){const n=Math.ceil(d.length/Math.ceil(Math.random()*d.length));a(d[n])}}catch(d){console.error(d)}finally{}})(),(async()=>{const d=I(O,"data/movies"),n=await W(d);if(n.exists()){const h=n.val(),m=Object.values(h).sort((u,g)=>g.rate-u.rate);console.log(m);const f=m.slice(0,10);o(f)}})()},[1]);const i=async x=>{try{const d=I(O,"users/loveMovie/"),n=await W(d);let h=n.exists()?n.val():[];if(h.some(m=>m.id===x.id)){L.warning("Movie already in the love list.");return}h.push(x),await oe(d,h),L.success("Add Successful!")}catch(d){console.error("Error adding to love list:",d),L.error("Failed to add to love list.")}},c=async x=>{localStorage.setItem("pay",x.id);const d=I(O,"/users/dataTicket/book"),n=await W(d);let h=n.exists()?n.val():[];if(h.some(m=>m.id===x.id))console.log("fasle");else{const m=Fs(x);h.push(m),await oe(d,h)}};return e.jsxs("div",{className:"iphone-12-pro-max:flex  flex flex-col w-full font-movie px-5    ",children:[e.jsxs("div",{className:"mt-5",children:[e.jsx("div",{children:s?e.jsxs("div",{className:" w-full  flex flex-col items-center text-white relative h-[700px] ",children:[e.jsxs("div",{className:"group h-full w-full  ",children:[e.jsx("div",{className:"w-[60px] h-[100px] font-bold absolute rounded-tr-xl drop-shadow-2xl p-6 rounded-bl-3xl flex justify-center items-center right-0 z-10 text-white bg-primary-textMovie",children:"Top 10"}),e.jsxs("div",{className:" p-10 mt-20 absolute top-0 left-0 w-full h-full group-hover:block duration-300 hidden ",children:[e.jsx("div",{className:"bg-black z-20 absolute w-full h-[400px] opacity-40 top-0 left-0"}),e.jsx("p",{className:"absolute z-20",children:s.description})]})]}),e.jsx("img",{src:s.poster,className:"w-full rounded-2xl opacity-90 bg-gradient-to-b object-cover  h-[700px] absolute bottom-0 ",alt:""}),e.jsx("div",{className:"bg-black w-full h-40 absolute bottom-10 opacity-25 rounded-lg z-0 blur-sm "}),e.jsxs("div",{className:" text-xl font-bold  absolute   bottom-0 flex flex-col items-center justify-center p-10 drop-shadow-2xl",children:[e.jsx("p",{className:"flex items-center z-10",children:s.type&&s.type.join(" 〄 ")}),e.jsxs("div",{className:"flex gap-3  z-10 mt-2 ",children:[e.jsx(b,{state:s.id,to:"/boking",className:"text-white hover:text-white ",onClick:()=>c(s),children:e.jsxs("div",{className:"cursor-pointer hover:scale-110 motion-reduce:transform-none flex rounded-lg bg-btn-gradient  px-2 py-5 text-nowrap w-full items-center justify-center gap-4",children:[e.jsx("span",{children:e.jsx(js,{})}),e.jsx("p",{children:"Book Tickets"})]})}),e.jsxs("div",{onClick:()=>i(s),className:"cursor-pointer  hover:scale-110 motion-reduce:transform-none flex w-full rounded-lg  bg-gray-800 px-2 py-5 text-nowrap items-center justify-center gap-4",children:[e.jsx("span",{children:e.jsx(vs,{})}),e.jsx("p",{className:"text-white",children:"Add list Love"})]})]})]})]}):null}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl my-5  font-bold",children:"Hoollywood Movie Top 10 series "}),e.jsx("div",{children:e.jsx(pe,{slidesPerView:2,style:{cursor:"default"},children:t.length>0?t.map((x,d)=>e.jsx(fe,{children:e.jsxs("div",{className:" translate-x-10 w-full px-12",children:[e.jsx(b,{to:"/itemLove",state:{data:x},children:e.jsx("div",{className:"saturate-150 z-10 ",children:e.jsx("img",{src:x.poster,alt:x.title,loading:"lazy",className:"rounded-e-2xl rounded-t-lg h-[300px] w-[290px]  object-cover  cursor-pointer "})})}),e.jsx("div",{className:"mt-2 ",children:e.jsx("h2",{className:`font-bold -z-10 text-[140px] whitespace-normal ${l.theme=="dark"||l.theme=="travel"?" text-shadow-light text-dark-bg":"text-shadow-dark text-light-bg"} absolute -bottom-[53px] -translate-x-[65%]  drop-shadow-2xl`,children:d+1})})]})},d)):e.jsx("p",{children:"Not found"})})})]})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl my-5  font-bold",children:" Family  Best Movie Top 10 series"}),e.jsx("div",{children:e.jsx(pe,{slidesPerView:2,style:{cursor:"default"},children:t.length>0?t.map((x,d)=>e.jsx(fe,{children:e.jsxs("div",{className:" translate-x-10 w-full px-12",children:[e.jsx(b,{to:"/itemLove",state:{data:x},children:e.jsx("div",{className:"saturate-150 z-10 ",children:e.jsx("img",{src:x.poster,alt:x.title,loading:"lazy",className:"rounded-e-2xl rounded-t-lg h-[300px] w-[290px]  object-cover  cursor-pointer "})})}),e.jsx("div",{className:"mt-2 ",children:e.jsx("h2",{className:`font-bold -z-10 text-[140px] whitespace-normal ${l.theme=="dark"||l.theme=="travel"?" text-shadow-light text-dark-bg":"text-shadow-dark text-light-bg"} absolute -bottom-[53px] -translate-x-[70%]  drop-shadow-2xl`,children:d+1})})]})},d)):e.jsx("p",{children:"Not found"})})})]}),e.jsx(Z,{})]})},Sa=()=>{var re;const s={padding:50,background:"rgba(0, 0, 0, 0.05)",borderRadius:4,height:"100vh"},a=e.jsx("div",{style:s}),t=$();de().state;const{color:l,setColor:i}=$(),{inputClasses:c,buttonClasses:x,themeUniver:d}=R(),n=new We,h=X(),[m,f]=r.useState(!0),[u,g]=r.useState(!1),[N,j]=r.useState({dataMovie:[],dataUser:null,dataLastMovie:[],dataLoveMovie:[]}),[p,y]=r.useState(!1),[v,T]=r.useState(!1),[A,q]=r.useState();if(r.useCallback(async()=>{try{await Ze(ue,n)}catch{h("/l")}},[ue,h]),r.useEffect(()=>{const Q=yt(ue,k=>{if(k){const P={uid:k.uid,email:k.email,displayName:k.displayName,photoURL:k.photoURL};localStorage.setItem("user",JSON.stringify(P)),q(P.displayName),j(M=>({...M,dataUser:P})),T(!0)}else localStorage.removeItem("user"),j(P=>({...P,dataUser:null}));y(!1)});return(async()=>{try{const k=await E("data/movies"),P=await E("users/loveMovie"),M=await E("users/dataLastMovie"),_=await E("user/auth"),w={uid:"",email:"",displayName:"",photoURL:""};_==null&&(q(w.displayName),j(S=>({...S,dataUser:w})),T(!1)),k&&(j(S=>({...S,dataMovie:k,dataLoveMovie:P,dataLastMovie:M})),f(!0))}catch(k){console.error(k)}finally{f(!1)}})(),(async()=>{try{const k=I(O,"users/auth");Le(k,P=>{const M=P.val();q(M.name)})}catch(k){console.error("Error initializing user data:",k)}})(),()=>Q()},[ue]),m)return e.jsx(e.Fragment,{children:e.jsx("div",{className:"h-[100vw]",children:e.jsx(ss,{gap:"middle",vertical:!0,className:"flex mt-44",children:e.jsx(Nt,{tip:"Loading",size:"large",children:a})})})});const D=Q=>{t.setTheme(Q.target.value),i(Q.target.color)},J=()=>{g(!u),console.log(A)};return e.jsxs("div",{children:[e.jsxs("div",{className:`iphone-12-pro-max:flex flex flex-col font-movie pt-10 relative   ${d}  opacity-95 `,children:[e.jsx("div",{className:" absolute top-[30%] w-full  h-0  z-0",children:t.theme=="travel"?e.jsxs("div",{className:" relative ",children:[e.jsx("div",{className:" absolute  left-0 bg-[#09FBD3] -translate-x-[50%]  blur-3xl opacity-25  drop-shadow-2xl  rounded-full w-[300px] h-[300px] z-0"}),e.jsx("div",{className:"absolute  right-0  translate-y-[100%]  bg-[#FE53BB] blur-3xl opacity-20    drop-shadow-2xl  rounded-full w-[300px] h-[300px] z-0",children:"   "})]}):""}),e.jsxs("div",{className:"px-5",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"font-logo",children:["Welcome ",A||"user  "," 👋"]}),e.jsx("p",{children:"Book your favourite movie"})]}),e.jsx("div",{children:e.jsxs(Is,{children:[e.jsx(zs,{src:((re=N.dataUser)==null?void 0:re.photoURL)||"https://github.com/shadcn.png"}),e.jsx(Os,{children:"Avatar"})]})})]}),e.jsxs("div",{className:"flex mt-5",children:[e.jsxs("div",{className:"relative  w-full",children:[e.jsx(V,{className:`px-10 py-5  focus:border-white ${c} `,placeholder:"Search"}),e.jsx("div",{className:"absolute top-2 left-3",children:e.jsx("box-icon",{name:"search",color:` ${l}`})})]}),e.jsxs("div",{className:"relative ",children:[e.jsx("div",{onClick:J,className:"w-[40px] relative",children:e.jsx("img",{src:"/assets/icons/filter.png",className:"cursor-pointer ",alt:"Filter"})}),e.jsx(ba,{open:u,onOpenChange:g,children:e.jsxs(As,{className:` absolute top-44  ${t.theme==="dark"?"bg-gray-50":"bg-white"}`,children:[e.jsx(Bs,{children:"Theme "}),e.jsx(we,{onClick:()=>D({target:{value:"dark",color:"white"}}),children:"Dark"}),e.jsx(we,{onClick:()=>D({target:{value:"light",color:"black"}}),children:"Light"}),e.jsx(we,{onClick:()=>D({target:{value:"travel",color:"white"}}),children:"Universe"})]})})]})]}),e.jsxs("div",{className:"flex justify-between mt-10 ",children:[e.jsx("h2",{className:"font-bold",children:"Category"}),e.jsx(b,{to:"/all",className:"text-chairMovie-chairSelected",children:"See all"})]}),e.jsxs("div",{className:"flex justify-between mt-5 ",children:[e.jsxs("div",{className:"cursor-pointer",children:[e.jsx("div",{className:` ${t.theme=="travel"?"card-wrapper":"flex items-center justify-center rounded-2xl"} ${c}   h-16 w-16 `,children:e.jsx("div",{className:` ${t.theme=="travel"?"card-content":""} flex items-center justify-center text-xs`,children:"🥰"})}),e.jsx("p",{className:"text-center mt-2",children:"Romance"})]}),e.jsxs("div",{className:"cursor-pointer",children:[e.jsx("div",{className:` ${t.theme=="travel"?"card-wrapper":"flex items-center justify-center rounded-2xl"} ${c}   h-16 w-16 `,children:e.jsx("div",{className:` ${t.theme=="travel"?"card-content":""} flex items-center justify-center text-xs`,children:"😀"})}),e.jsx("p",{className:"text-center mt-2",children:"Comedy"})]}),e.jsxs("div",{className:"cursor-pointer",children:[e.jsx("div",{className:` ${t.theme=="travel"?"card-wrapper":"flex items-center justify-center rounded-2xl"} ${c}   h-16 w-16 `,children:e.jsx("div",{className:` ${t.theme=="travel"?"card-content":""} flex items-center justify-center text-xs`,children:"😨"})}),e.jsx("p",{className:"text-center mt-2",children:"Horror"})]}),e.jsxs("div",{className:"cursor-pointer",children:[e.jsx("div",{className:` ${t.theme=="travel"?"card-wrapper":"flex items-center justify-center rounded-2xl"} ${c}   h-16 w-16 `,children:e.jsx("div",{className:` ${t.theme=="travel"?"card-content":""} flex items-center justify-center text-xs`,children:"😆"})}),e.jsx("p",{className:"text-center mt-2",children:"Drama"})]})]})]}),e.jsx("div",{children:e.jsx(Ma,{})}),e.jsxs("div",{className:"z-10",children:[e.jsxs("div",{className:"flex justify-between mt-10 px-5",children:[e.jsx("h2",{className:"font-bold",children:"Latest Movie"}),e.jsx(b,{to:"/lmovie",className:"text-chairMovie-chairSelected",children:"See all"})]}),e.jsx("div",{className:"iphone-12-pro-max:flex flex flex-col     font-movie pl-5",children:e.jsx(Ee,{data:N.dataLastMovie})}),e.jsxs("div",{className:"flex justify-between mt-10 px-5",children:[e.jsx("h2",{className:"font-bold",children:"Favourite Movie"}),e.jsx(b,{to:"/love",className:"text-chairMovie-chairSelected",children:"See all"})]}),e.jsx("div",{className:"iphone-12-pro-max:flex flex flex-col iphone-12:w-[100vw ] font-movie pl-5 mb-20",children:N.dataLoveMovie?e.jsx(Ee,{data:N.dataLoveMovie}):e.jsx("p",{children:"Not Data Love"})})]})]}),e.jsx("div",{className:"fixed bottom-0 left-0 w-full",children:e.jsx(je,{data:"home"})})]})},Us=r.createContext(),$a=({children:s})=>{const[a,t]=r.useState({dataTicket:[],userTest:[]});return e.jsx(Us.Provider,{value:{item:a,setItem:t},children:s})},ie=()=>r.useContext(Us),Pa=()=>{const s=$(),{textClasses:a,themeUniver:t}=R();ie();const{setItem:o}=ie(),[l,i]=r.useState([]),[c,x]=r.useState(!0);r.useEffect(()=>{(async()=>{try{const n=await E("users/dataLastMovie");n&&(i(n),x(!0))}catch(n){console.error(n)}finally{x(!1)}})()},[]),l.map(n=>n.id);const d=n=>{o(h=>({...h,dataTicket:n}))};return c?e.jsx(e.Fragment,{children:e.jsx("div",{children:"Loading..."})}):e.jsx("div",{children:e.jsxs("div",{className:`iphone-12-pro-max:flex flex flex-col h-screen min-w-max font-movie px-5 ${t} `,children:[e.jsx("div",{className:"translate-y-9",children:e.jsx(b,{to:"/home",children:e.jsx("box-icon",{name:"chevron-left",size:"40px",color:(s.theme=="dark","white"),children:" "})})}),e.jsx("h1",{className:` text-center font-logo ${a}'}`,children:"Latest Movies"}),e.jsx("div",{className:"grid grid-cols-2 gap-5 mt-10 ",children:l.map(n=>e.jsx("div",{children:e.jsxs(b,{to:"/itemlove",state:{data:n},className:`${a} hover:${a}`,children:[e.jsx("div",{className:" saturate-100  ",onClick:()=>d(n),children:e.jsx("img",{src:n.poster,alt:n.title,loading:"lazy",className:"rounded-2xl  h-[210px] w-full object-cover"})}),e.jsxs("div",{className:"mt-2",children:[e.jsx("h2",{className:"font-[700]",children:Y(n.title,15)}),e.jsx("p",{className:"text-gray-400 text-xs",children:n.type.join(",")})]})]})},n.id))})]})})},Ta=()=>{const{color:s}=$(),a=de(),{data:t}=a.state||{};ie();const{buttonClasses:o,inputClasses:l,textClasses:i,backGround:c,themeUniver:x}=R();if(!t)return e.jsx("div",{children:"No data found"});const d=n=>{localStorage.setItem("pay",JSON.stringify(n))};return e.jsx("div",{children:e.jsxs("div",{className:` iphone-12-pro-max:flex flex flex-col h-[100vh] max-w-max font-movie px-5 ${c} ${i} `,children:[e.jsxs("div",{children:[e.jsx("div",{className:"translate-y-9",children:e.jsx(b,{to:"/lmovie",children:e.jsx("box-icon",{name:"chevron-left",size:"40px",color:s,children:" "})})}),e.jsx("h1",{className:"text-center font-logo",children:"Movie Details"})]}),e.jsxs("div",{className:"flex mt-10 ",children:[e.jsx("div",{className:" w-full",children:e.jsx("img",{src:t.poster,alt:"helo",className:"rounded-2xl  h-[300px] w-full   object-cover "})}),e.jsxs("div",{className:"flex flex-col justify-between px-10 text-center ",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(gs,{className:"text-primary-textMovie",size:35}),e.jsx("span",{className:"text-gray-400",children:"Type"}),e.jsx("p",{className:"font-logo",children:t.type[0]})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{children:e.jsx(bs,{className:"text-primary-textMovie",size:35})}),e.jsx("span",{className:"text-gray-400",children:"Duration"}),e.jsx("p",{className:"font-logo text-sm",children:Ps(t.runtime)})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{children:e.jsx(ys,{className:"text-primary-textMovie",size:35})}),e.jsx("span",{className:"text-gray-400",children:"Rating"}),e.jsxs("p",{className:"font-logo",children:[Number(t.rate).toFixed(1),"/10"]})]})]})]}),e.jsxs("div",{className:"my-5",children:[e.jsx("h2",{className:"font-w900",children:t.title}),e.jsx("p",{className:"text-gray-400 mt-2",children:t.theFirm})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-w900",children:"Descriptions"}),e.jsx("p",{children:t.description})]}),e.jsx("div",{className:"",children:e.jsx(b,{className:"text-white hover:text-white",to:"/boking",state:t,onClick:()=>d(t),children:e.jsx(F,{className:"bg-btn-gradient hover:bg-chairMovie-chairSelected  h-16 mt-10 text-xl w-full ",children:"Select Seat"})})})]})})};function Da(s){const a="0123456789";let t="";for(let o=0;o<s;o++)t+=a.charAt(Math.floor(Math.random()*a.length));return t}const Oe=async(s,a)=>{try{const t=I(O,"users/dataTicket/book"),o=await W(t);if(o.exists()){const l=o.val();for(const i in l)if(l[i].id==s){await ne(I(O,`users/dataTicket/book/${i}`),a);return}console.log("No matching booking found.")}else console.log("No data found in 'book' path.")}catch(t){console.error("Error updating data:",t)}},La=["A","B","C","D","E","F","G"],Ra=(s,a)=>Array.from({length:s},(t,o)=>({id:`${La[o]}${a}`,booked:Math.random()<.5,selected:!1})),K=({count:s,onSeatsUpdate:a,startIndex:t,setTotalTicket:o})=>{const l=$(),[i,c]=r.useState(Ra(s,t)),x=d=>{o(d);const n=i.map(h=>h.id===d&&!h.booked?{...h,selected:!h.selected,price:h.selected?0:99}:h);c(n)};return r.useEffect(()=>{a(i)},[i]),e.jsx("div",{className:"flex flex-col",children:i.map(d=>e.jsx("div",{children:e.jsx(Ne,{id:d.id,size:"100%",className:`cursor-pointer ${d.booked?l.theme=="travel"?" text-[#b8116a]":"text-chairMovie-chairBooked":d.selected?l.theme=="travel"?" text-[#08fbd2]":"text-primary-textMovie":l.theme=="travel"?" text-[#c4c4c2]":"text-chairMovie-chairAvailable"}    `,onClick:()=>x(d.id)},d.id)},d.id))})},Ia=()=>{const s=X(),{dataUser:a,setDataUser:t}=Ce();ie(),r.useState(0),r.useState(0);const[o,l]=r.useState([]),c=de().state||{},[x,d]=r.useState([]),n=$(),{backGround:h,textClasses:m,themeUniver:f,DatePickerButton:u,buttonCLick:g}=R(),{color:N}=$();r.useEffect(()=>{t(w=>({...w,dataIdBook:c}))},[t]);const j=w=>{d(S=>{const z=[...S];return w.forEach(H=>{const ve=z.findIndex(Me=>Me.id===H.id);ve>=0?z[ve]=H:z.push(H)}),z})},p=r.useMemo(()=>x.reduce((w,S)=>S.selected?w+S.price:w,0),[x]),y=r.useMemo(()=>x.filter(S=>S.selected==!0).map(S=>S.id),[x]),[v,T]=r.useState(new Date),[A,q]=r.useState([]),[D,J]=r.useState([]),[re,Q]=r.useState({dataD:null,dataH:null});r.useEffect(()=>{const w="EEE",S="dd",z="HH:mm",H=wt(v),ve=kt(v),Me=Ct(v),Ws=Mt(v),Zs=St({start:Me,end:Ws},{step:15}).map((me,Se)=>({keyHours:ye(me,z),id:Se+=1,clickH:!1}));J(Zs);const _s=$t({start:H,end:ve}).map((me,Se)=>({date:ye(me,"yyyy"),dayOfWeek:ye(me,w),dayOfMonth:ye(me,S),id:Se+=1,clickD:!1}));q(_s)},[v]);const k=w=>{const S=A.map(z=>z.id===w?{...z,clickD:!0}:{...z,clickD:!1});q(S)},P=w=>{const S=D.map(H=>H.id===w?{...H,clickH:!0}:{...H,clickH:!1});J(S);const z=D.filter(H=>H.clickH==!0);Q(H=>({...H,dataH:z}))};r.useEffect(()=>{const w=A.filter(z=>z.clickD==!0),S=D.filter(z=>z.clickH==!0).map(z=>({keyHours:z.keyHours,id:z.id}));t(z=>({...z,dataTicket:{dataMovieBook:y,dataTimeBook:S,dataDayBook:w,total:p}})),!w&&!S&&!y&&!p&&t(z=>({...z,select:!0}))},[p,y,A,D]);const M=async()=>{const w={codeQr:`Mov ${Da(12)}`,dateBook:a.dataTicket.dataDayBook,total:a.dataTicket.total,seatBook:a.dataTicket.dataMovieBook,timeBook:a.dataTicket.dataTimeBook};await Oe(localStorage.getItem("pay"),w)},_=()=>{(a.dataTicket===null||a.dataTicket===void 0)&&L.warning("Please book your tickets"),L.success("Book SuccessFull",{autoClose:2500}),setTimeout(()=>{s("/pay")},2400)};return e.jsxs("div",{className:` font-movie ${f}   `,children:[e.jsxs("div",{className:"px-5",children:[e.jsx("div",{className:"translate-y-9",children:e.jsx(b,{to:"/itemlove",children:e.jsx("box-icon",{name:"chevron-left",size:"40px",color:N,children:"  "})})}),e.jsx("h1",{className:"text-center font-logo",children:"Select Seats"}),e.jsxs("div",{className:"mt-20",children:[e.jsx("div",{className:"mt-10 p-2 ",children:e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"flex mr-5",children:[e.jsx("div",{className:"p-2 mt-5 ",children:e.jsx(K,{count:5,onSeatsUpdate:j,startIndex:1,setTotalTicket:l})}),e.jsxs("div",{className:"flex",children:[e.jsx(K,{count:7,onSeatsUpdate:j,startIndex:2,setTotalTicket:l}),e.jsx(K,{count:7,onSeatsUpdate:j,startIndex:3,setTotalTicket:l}),e.jsx(K,{count:7,onSeatsUpdate:j,startIndex:4,setTotalTicket:l})]})]}),e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"flex",children:[e.jsx(K,{count:7,onSeatsUpdate:j,startIndex:5,setTotalTicket:l}),e.jsx(K,{count:7,onSeatsUpdate:j,startIndex:6,setTotalTicket:l}),e.jsx(K,{count:7,onSeatsUpdate:j,startIndex:7,setTotalTicket:l})]}),e.jsx("div",{className:"p-2 mt-5",children:e.jsx(K,{count:5,onSeatsUpdate:j,startIndex:8,setTotalTicket:l})})]})]})}),e.jsxs("div",{className:"flex  justify-around",children:[e.jsxs("div",{className:"flex p-2",children:[e.jsx("div",{className:"pr-2",children:e.jsx(Ne,{className:`${n.theme=="travel"?" text-[#08fbd2]":"text-primary-textMovie"}`})}),e.jsx("p",{children:"Selected"})]}),e.jsxs("div",{className:"flex p-2",children:[e.jsx("div",{className:"pr-2",children:e.jsx(Ne,{className:`${n.theme=="travel"?" text-[#b8116a]":"text-chairMovie-chairBooked"}`})}),e.jsx("p",{children:"Booked"})]}),e.jsxs("div",{className:"flex p-2",children:[e.jsx("div",{className:"pr-2",children:e.jsx(Ne,{className:`${n.theme=="travel"?" text-[#c4c4c2]":"text-chairMovie-chairAvailable"}`})}),e.jsx("p",{children:"Available"})]})]})]})]}),e.jsxs("div",{className:` ${u}   mt-10 rounded-t-[50px]  py-10  min-h-full `,children:[e.jsx("h2",{className:"text-center font-bold ",children:"Select date and time"}),e.jsx("ul",{className:" p-4 w-full flex  ",children:e.jsx(pe,{spaceBetween:20,slidesPerView:5,children:A.length>0?A.map(w=>e.jsx("li",{children:e.jsxs(fe,{onClick:()=>k(w.id),style:{width:"20px",padding:"13px"},className:`${w.clickD?g:"bg-[#eeeeee] text-black"} cursor-pointer rounded-lg font-bold text-center`,children:[e.jsx("p",{children:w.dayOfWeek}),e.jsx("span",{className:"font-bold",children:w.dayOfMonth})]},w.id)})):e.jsxs("div",{className:" p-3 bg-[#eeeeee]  rounded-lg mx-2 text-black",children:[e.jsx("p",{}),e.jsx("span",{className:"font-bold"})]})})}),e.jsx("ul",{className:"flex p-4 w-full ",children:e.jsx(pe,{spaceBetween:20,slidesPerView:4,children:D.length>0?D.map(w=>e.jsx("li",{children:e.jsx(fe,{onClick:()=>P(w.id),style:{width:"20px",padding:"13px"},className:`${w.clickH?g:"bg-[#eeeeee] text-black"}  cursor-pointer rounded-lg font-bold text-center`,children:e.jsx("span",{children:w.keyHours})},w.id)},w.id)):e.jsx("div",{className:"bg-primary-textMovie p-3 rounded-lg mx-2 w-20 flex justify-center text-white",children:e.jsx("span",{children:"error"})})})}),e.jsxs("div",{className:"flex justify-between mt-5 px-5  ",children:[e.jsxs("div",{className:"p-3 ",children:[e.jsxs("p",{children:["Total Price :",e.jsxs("span",{className:"font-bold ",children:[" ",p?`${Number(p).toLocaleString()} USD `:""]})]}),e.jsxs("p",{className:"truncate w-[300px]",children:["Seat :",e.jsxs("span",{className:"font-bold ",children:[" ",y?y.join(","):""]})]})]}),e.jsx("div",{className:g,onClick:M,children:e.jsx(b,{onClick:_,className:"text-white hover:text-white",TotalPrice:p,Ticket:y,dataTicket:re,dataBook:c,children:e.jsx(F,{className:" h-16  text-xl w-[200px]",children:"Confirm Seat"})})})]})]}),e.jsx(Z,{})]})},za=({text:s,isOpenPay:a,payBookData:t})=>{const{buttonClasses:o,backGround:l,textClasses:i,themeUniver:c}=R();return $(),e.jsxs("div",{children:[e.jsx(le,{open:a,children:e.jsx(ee,{className:`${c} ${i} max-w-[96vw] right-3  h-max top-[25%] rounded-lg border-none`,children:e.jsxs(se,{children:[e.jsxs("div",{className:"flex justify-center items-center h-[300px] ",children:[e.jsx("div",{className:" fixed w-[92px] h-[92px]  animate-move bg-[#d3f1e0] rounded-full flex items-center justify-center"}),e.jsx("div",{className:"bg-[#50c57d] h-[80px] w-[80px] z-100 absolute flex justify-center items-center rounded-full drop-shadow-2xl",children:e.jsx(es,{size:50,color:"white"})})]}),e.jsx(te,{className:"text-xl",children:"Congratulations !"}),e.jsx(ae,{children:e.jsx("div",{className:" flex justify-center items-center flex-col gap-3",children:e.jsxs("div",{className:"w-[200px] text-sm ",children:[e.jsx("p",{className:"text-gray-500 ",children:"You have successfully placed order for movie ticket."}),e.jsx("p",{className:"text-gray-500 ",children:"Enjoy the movie !"})]})})}),e.jsx("div",{}),e.jsxs(xe,{className:"gap-y-5  p-2 w-full mt-5 flex flex-col  h-full",children:[e.jsx("div",{className:"w-full rounded-lg",children:e.jsx(b,{to:"/qrcode",className:"text-white",state:{data:t},children:e.jsx("button",{type:"submit",className:"w-full h-20 bg-primary-textMovie  text-xl",children:"View E-Ticket"})})}),e.jsx("div",{className:"border-primary-textMovie w-full border-[1px] h-20 flex justify-center items-center rounded-lg",children:e.jsx(b,{className:"w-full text-primary-textMovie ",to:"/home",children:e.jsx("button",{type:"submit",className:"   text-xl",children:"Go to Home"})})})]})]})})}),e.jsx(Z,{})]})},Oa=r.memo(za),Aa=s=>s.replace(/\s/g,"").replace(/(.{4})/g,"$1 ").trim(),Ba=()=>{const{buttonClasses:s,backGround:a,textClasses:t,inputClasses:o,themeUniver:l,btnSubmit:i,buttonCLick:c}=R(),{color:x}=$(),{item:d,setItem:n}=ie();Ce();const h=JSON.parse(localStorage.getItem("pay")),[m,f]=r.useState(null),[u,g]=r.useState(!1),[N,j]=r.useState(!1),[p,y]=r.useState(!1);r.useEffect(()=>{const k=async()=>{y(!0);try{const M=await E("users/userCard/MasterCard/numberCard"),_=await E("users/userCard/PayPal/numberCard");T(w=>w.map(S=>S.name==="MasterCard"?{...S,number:M||""}:S.name==="Paypal"?{...S,number:_||""}:S))}catch(M){console.log(M)}finally{y(!1)}},P=async()=>{y(!0);try{const _=(await E("users/dataTicket/book")).filter(w=>w.id==localStorage.getItem("pay"));q(_)}catch(M){console.log(M)}finally{y(!1)}};return k(),()=>P()},[]);const[v,T]=r.useState([{id:1,name:"MasterCard",number:"",url:"/assets/img/masterCard.png",size:null,select:!1},{id:2,name:"Paypal",number:"",url:"/assets/img/payPal.png",size:35,select:!1}]),[A,q]=r.useState(null),[D,J]=r.useState({nameCard:"",numberCard:"",date:"",numberCVV:""}),re=k=>{f(k);const P=v.find(M=>M.name===k);P&&J(M=>({...M,numberCard:P.number}))},Q=async()=>{try{const M=I(O,"users/userCard/"+m);await ne(M,d.userCard)}catch(M){console.error("Error initializing user data:",M)}const k=v.findIndex(M=>M.number);if(k=="0")try{const M=I(O,"users/dataTicket/book"),_=await W(M);if(_.exists()){const w=_.val();for(const S in w)if(w[S].id==localStorage.getItem("pay")){await ne(I(O,`users/dataTicket/book/${S}`),{paid:!0}),j(!0);return}console.log("No matching booking found.")}else console.log("No data found in 'book' path.")}catch(M){console.error("Error updating data:",M)}(v.find(({select:M})=>M===!0)===void 0||k=="1")&&L.info("You need to add a payment card",{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})};return e.jsxs("div",{className:`iphone-12-pro-max:flex flex flex-col min-h-screen w-full font-movie px-5 ${l}`,children:[p?e.jsx("div",{children:"Loading..."}):e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("div",{className:"translate-y-9",children:e.jsx(b,{to:"/boking",children:e.jsx("box-icon",{name:"chevron-left",size:"40px",color:x})})}),e.jsx("h1",{className:"text-center font-logo",children:"Checkout"})]}),e.jsx("div",{children:A?A.map(k=>e.jsxs("div",{children:[e.jsxs("div",{className:`flex-shrink-0 w-[calc(100% / 3)] pr-2 mt-10 flex rounded-3xl p-5 ${s} drop-shadow-xl`,children:[e.jsx("img",{src:k.poster,alt:k.Title,loading:"lazy",className:"rounded-xl h-[100px] w-[100px] bg-contain object-cover"}),e.jsxs("div",{className:"flex flex-col justify-around pl-6",children:[e.jsx("h2",{className:"font-[700] text-xl",children:Y(k.title,15)}),e.jsx("p",{className:"text-gray-300 text-xs",children:k.theFirm}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Pt,{color:"yellow"}),e.jsx("span",{children:h.rateLive?h.rateLive:"0"}),e.jsxs("p",{children:["(",h.review," Reviews)"]})]})]})]}),e.jsxs("div",{className:"my-10",children:[e.jsx("h2",{className:"font-logo",children:"Payment Method"}),v.map(P=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between my-5",onClick:()=>re(P.name),children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:`${o} w-[50px] h-[50px] rounded-lg flex items-center justify-center`,children:e.jsx("img",{src:P.url,width:P.size,alt:""})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h2",{className:"font-logo",children:P.name}),e.jsx("span",{children:Aa(P.number)})]})]}),e.jsx("div",{className:"cursor-pointer pt-2",children:e.jsx("input",{type:"radio",name:"radio-group",value:P.name,checked:m===P.name,onChange:()=>re(P.name)})})]}),m===P.name&&e.jsx("button",{onClick:()=>g(!0),className:"border-primary-textMovie border-[1px] min-w-full flex items-center justify-center rounded-lg py-4 text-primary-textMovie ",children:"+ Add New Card"}),e.jsx(ia,{isOpen:u,setIsOpen:g,setItem:n,formValues:D,setData:T,selectedValue:m})]},P.id))]}),e.jsxs("div",{className:"flex flex-col gap-10",children:[e.jsxs("div",{children:[e.jsx("div",{className:"h-[1px] w-full bg-gray-600"}),e.jsxs("div",{className:"flex justify-between py-10",children:[e.jsx("p",{children:"Item Total"}),e.jsxs("span",{children:["$",Number(k.total).toLocaleString()," USD"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{children:"Discount"}),e.jsx("span",{children:"- $5"})]})]}),e.jsx("div",{className:"h-[1px] w-full bg-gray-600"}),e.jsxs("div",{className:"flex justify-between mb-20 font-bold text-lg",children:[e.jsx("h2",{children:"Grand Total"}),e.jsxs("p",{children:["$",Number(k.total-5).toLocaleString()," USD"]})]})]}),e.jsx(Oa,{isOpenPay:N,payBookData:k.codeQr})]},k.id)):null}),e.jsx("button",{className:`${c} min-w-full flex items-center justify-center rounded-lg py-4 text-white`,onClick:Q,children:"Pay Now"})]}),e.jsx(Z,{})]})},Fa=Lt,Es=r.forwardRef(({className:s,...a},t)=>e.jsx(Ns,{ref:t,className:C("fixed inset-0 z-50  opacity-95 backdrop-blur-md  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...a}));Es.displayName=Ns.displayName;const Ua=r.forwardRef(({className:s,children:a,...t},o)=>e.jsxs(Fa,{children:[e.jsx(Es,{}),e.jsxs(ws,{ref:o,className:C("fixed left-[50%] top-[50%]  z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...t,children:[a,e.jsxs(Tt,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(Dt,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ua.displayName=ws.displayName;const Ea=r.forwardRef(({className:s,...a},t)=>e.jsx(ks,{ref:t,className:C("text-lg font-semibold leading-none tracking-tight",s),...a}));Ea.displayName=ks.displayName;const Va=r.forwardRef(({className:s,...a},t)=>e.jsx(Cs,{ref:t,className:C("text-sm text-muted-foreground",s),...a}));Va.displayName=Cs.displayName;const qa=Te("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ha=r.forwardRef(({className:s,variant:a,...t},o)=>e.jsx("div",{ref:o,role:"alert",className:C(qa({variant:a}),s),...t}));Ha.displayName="Alert";const Ga=r.forwardRef(({className:s,...a},t)=>e.jsx("h5",{ref:t,className:C("mb-1 font-medium leading-none tracking-tight",s),...a}));Ga.displayName="AlertTitle";const Wa=r.forwardRef(({className:s,...a},t)=>e.jsx("div",{ref:t,className:C("text-sm [&_p]:leading-relaxed",s),...a}));Wa.displayName="AlertDescription";const Vs=()=>e.jsxs("div",{className:"iphone-12-pro-max:flex flex flex-col   text-center font-movie  mt-10 relative ",children:[e.jsxs("div",{className:"flex w-full justify-between px-5 ",children:[e.jsx(b,{className:"text-black ",to:"/profile",children:e.jsx(Ms,{size:24})}),e.jsx("h1",{className:"text-center font-bold",children:"Privacy Policy"}),e.jsx("p",{className:""})]}),e.jsxs("div",{className:"text-left px-5 ",children:[e.jsx("p",{className:"mt-10",children:"Last update 17/2/2023"}),e.jsx("p",{className:"mt-5 text-lg",children:"Please read these privacy policy , carefuly before using our app operated us"}),e.jsx("p",{className:"mt-10 text-primary-textMovie font-bold",children:"Privacy Policy"}),e.jsx("p",{className:"mt-5 text-lg",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptatum recusandae inventore magnam veritatis suscipit doloribus ullam, atque quis, quod vel distinctio perspiciatis aliquid magni accusantium repellendus facere harum quos quaerat. Error deleniti sit, sunt id rem ipsum temporibus sed. Iure ex, animi eaque voluptatem laborum adipisci commodi dolorem alias necessitatibus repellendus modi officiis vero eos at ipsam repudiandae dignissimos rem."})]})]}),qs=()=>e.jsxs("div",{className:"iphone-12-pro-max:flex flex flex-col text-center font-movie  mt-10 relative ",children:[e.jsxs("div",{className:"flex w-full justify-between px-5 ",children:[e.jsx(b,{className:"text-black ",to:"/profile",children:e.jsx(Ms,{size:24})}),e.jsx("h1",{className:"text-center font-bold",children:"Privacy Policy"}),e.jsx("p",{className:""}),"            "]}),e.jsxs("div",{className:"text-left px-5 ",children:[e.jsx("p",{className:"mt-10",children:"Last update 17/2/2023"}),e.jsx("p",{className:"mt-5 text-lg",children:"Please read these privacy policy , carefuly before using our app operated us"}),e.jsx("p",{className:"mt-10 text-primary-textMovie font-bold",children:"Conditios of User"}),e.jsx("p",{className:"mt-5 text-lg",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptatum recusandae inventore magnam veritatis suscipit doloribus ullam, atque quis, quod vel distinctio perspiciatis aliquid magni accusantium repellendus facere harum quos quaerat. Error deleniti sit, sunt id rem ipsum temporibus sed. Iure ex, animi eaque voluptatem laborum adipisci commodi dolorem alias necessitatibus repellendus modi officiis vero eos at ipsam repudiandae dignissimos rem."})]})]}),Za=s=>L.success("Rename done",{autoClose:3e3,theme:s}),_a=(s,a)=>L.warning(a,{autoClose:3e3,theme:s}),Hs=()=>{const s=$(),{themeBackGround:a,themeFocus:t}=R(),o=X(),l=ke({initialValues:{name:"",phone:"",address:""},validationSchema:sa,onSubmit:i=>{const c=I(O,"users/auth");ne(c,{name:i.name,phone:i.phone,address:i.address}).then(()=>{Za(s.theme),setTimeout(()=>{o("/profile")},3e3)}).catch(x=>{_a(s.theme,"An error occurred: "+x.message)})}});return e.jsxs("div",{children:[e.jsx("h1",{className:"text-center font-bold text-xl",children:"Edit Profile"}),e.jsx("div",{className:"flex justify-center items-center mt-10",children:e.jsx("img",{src:"https://github.com/shadcn.png",width:100,alt:"Profile",className:"rounded-lg"})}),e.jsxs("form",{onSubmit:l.handleSubmit,children:[e.jsxs("div",{className:`relative border border-gray-300 rounded-lg my-5  p-2 ${l.errors.name?"border-primary-textMovie":""}  `,children:[e.jsx(V,{className:`peer py-5 px-3 w-full outline-none border-none ${a}   placeholder-transparent`,id:"name",name:"name",value:l.values.name,onChange:l.handleChange}),e.jsx(G,{htmlFor:"name",className:`absolute left-3 top-1/2 transform ${t} -translate-y-1/2 ${l.errors.name?"text-primary-textMovie":"text-gray-400"}  transition-all 
                                    duration-300 peer-focus:-top-0  peer-focus:left-3 peer-focus:${l.errors.name?"text-primary-textMovie":"text-gray-500"} peer-focus:text-xs
                                    peer-focus:${t} peer-focus:px-2 ${l.values.name?"top-0 px-2 left-3 text-xs text-primary-textMovie"+{themeFocus:t}:""}`,children:"Name"})]}),e.jsx("div",{className:"text-left p-0 m-0",children:l.errors.name&&e.jsxs("p",{className:"text-red-600",children:[" ",l.errors.name]})}),e.jsxs("div",{className:`relative border border-gray-300 rounded-lg my-5  p-4 ${l.errors.phone?"border-primary-textMovie":""}  `,children:[e.jsx(ts,{id:"phone",name:"phone",value:l.values.phone,onChange:i=>l.setFieldValue("phone",i),placeholder:"",buttonStyle:{border:"none"},inputStyle:{width:"100%",color:a,paddingRight:"10px",border:"none",backgroundColor:s.theme=="dark"?"#1a1a1a":"white"},country:"us",onlyCountries:["us","vn"]}),e.jsx(G,{htmlFor:"phone",className:`absolute left-[82px] top-1/2 transform ${t} -translate-y-1/2 ${l.errors.phone?"text-primary-textMovie":"text-gray-400"} transition-all 
                                    duration-300 peer-focus:-top-0  peer-focus:left-3 peer-focus:text-gray-500 peer-focus:text-xs
                                    peer-focus:${t} peer-focus:px-2 ${l.values.phone?"top-0 px-2 left-3 text-xs "+{themeFocus:t}:""}`,children:"Phone"})]}),e.jsx("div",{className:"text-left p-0 m-0",children:l.errors.phone&&e.jsxs("p",{className:"text-red-600",children:[" ",l.errors.phone]})}),e.jsxs("div",{className:`relative border border-gray-300 rounded-lg my-5  p-2 ${l.errors.name?"border-primary-textMovie":""}  `,children:[e.jsx(V,{className:`peer py-5 px-3 w-full outline-none border-none ${a}   placeholder-transparent`,id:"address",name:"address",value:l.values.address,onChange:l.handleChange}),e.jsx(G,{htmlFor:"name",className:`absolute left-3 top-1/2 transform ${t} -translate-y-1/2 ${l.errors.address?"text-primary-textMovie":"text-gray-400"}  transition-all 
                                    duration-300 peer-focus:-top-0  peer-focus:left-3 peer-focus:${l.errors.address?"text-primary-textMovie":"text-gray-500"} peer-focus:text-xs
                                    peer-focus:${t} peer-focus:px-2 ${l.values.address?"top-0 px-2 left-3 text-xs text-primary-textMovie"+{themeFocus:t}:""}`,children:"Address"})]}),e.jsx("div",{className:"text-left p-0 m-0",children:l.errors.address&&e.jsxs("p",{className:"text-red-600",children:[" ",l.errors.address]})}),e.jsx(F,{type:"submit",className:"bg-primary-textMovie w-full mt-10 p-6 hover:-translate-y-1 delay-150 hover:scale-105 transition duration-700 ease-in-out focus:bg-chairMovie-chairSelected hover:bg-primary-textMovie",children:e.jsx("span",{className:"text-white ",children:"Update"})})]}),e.jsx(Z,{position:"top-right",hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})},Gs=()=>{const s=$(),{themeBackGround:a,themeFocus:t}=R(),o=X(),[l,i]=r.useState(!1),c=ke({initialValues:{password:"",newPassword:"",confirmPassword:""},validationSchema:ea,onSubmit:x=>{i(!0);const d=I(O,"users/auth");ne(d,{password:x.confirmPassword}).then(()=>{notify(s.theme),setTimeout(()=>{o("/profile")},3e3)}).catch(n=>{notifyW(s.theme,"An error occurred: "+n.message)})}});return e.jsxs("div",{children:[e.jsx("h1",{className:"text-center font-bold text-xl",children:"Password Recovery"}),e.jsx("div",{className:"flex justify-center items-center mt-10",children:e.jsx("img",{src:"https://github.com/shadcn.png",width:100,alt:"Profile",className:"rounded-lg"})}),e.jsxs("form",{onSubmit:c.handleSubmit,children:[e.jsxs("div",{className:`relative border border-gray-300 rounded-lg my-5  p-2 ${c.errors.password?"border-primary-textMovie":""}  `,children:[e.jsx(V,{className:`peer py-5 px-3 w-full outline-none border-none ${a}   placeholder-transparent`,id:"password",name:"password",value:c.values.password,onChange:c.handleChange}),e.jsx(G,{htmlFor:"password",className:`absolute left-3 top-1/2 transform ${t} -translate-y-1/2 ${c.errors.password?"text-primary-textMovie":"text-gray-400"}  transition-all 
                                    duration-300 peer-focus:-top-0  peer-focus:left-3 peer-focus:${c.errors.password?"text-primary-textMovie":"text-gray-500"} peer-focus:text-xs
                                    peer-focus:${t} peer-focus:px-2 ${c.values.password?"top-0 px-2 left-3 text-xs text-primary-textMovie"+{themeFocus:t}:""}`,children:"Password"})]}),e.jsx("div",{className:"text-left p-0 m-0",children:c.errors.name&&e.jsxs("p",{className:"text-red-600",children:[" ",c.errors.password]})}),e.jsxs("div",{className:`relative border border-gray-300 rounded-lg my-5  p-2 ${c.errors.newPassword?"border-primary-textMovie":""}  `,children:[e.jsx(V,{className:`peer py-5 px-3 w-full outline-none border-none ${a}   placeholder-transparent`,id:"newPassword",name:"newPassword",value:c.values.newPassword,onChange:c.handleChange}),e.jsx(G,{htmlFor:"newPassword",className:`absolute left-3 top-1/2 transform ${t} -translate-y-1/2 ${c.errors.newPassword?"text-primary-textMovie":"text-gray-400"}  transition-all 
                                    duration-300 peer-focus:-top-0  peer-focus:left-3 peer-focus:${c.errors.newPassword?"text-primary-textMovie":"text-gray-500"} peer-focus:text-xs
                                    peer-focus:${t} peer-focus:px-2 ${c.values.newPassword?"top-0 px-2 left-3 text-xs text-primary-textMovie"+{themeFocus:t}:""}`,children:"New Password"})]}),e.jsx("div",{className:"text-left p-0 m-0",children:c.errors.newPassword&&e.jsxs("p",{className:"text-red-600",children:[" ",c.errors.newPassword]})}),e.jsxs("div",{className:`relative border border-gray-300 rounded-lg my-5  p-2 ${c.errors.confirmPassword?"border-primary-textMovie":""}  `,children:[e.jsx(V,{className:`peer py-5 px-3 w-full outline-none border-none ${a}   placeholder-transparent`,id:"confirmPassword",name:"confirmPassword",value:c.values.confirmPassword,onChange:c.handleChange}),e.jsx(G,{htmlFor:"confirmPassword",className:`absolute left-3 top-1/2 transform ${t} -translate-y-1/2 ${c.errors.confirmPassword?"text-primary-textMovie":"text-gray-400"}  transition-all 
                                    duration-300 peer-focus:-top-0  peer-focus:left-3 peer-focus:${c.errors.confirmPassword?"text-primary-textMovie":"text-gray-500"} peer-focus:text-xs
                                    peer-focus:${t} peer-focus:px-2 ${c.values.confirmPassword?"top-0 px-2 left-3 text-xs text-primary-textMovie"+{themeFocus:t}:""}`,children:"Confirm Password"})]}),e.jsx("div",{className:"text-left p-0 m-0",children:c.errors.confirmPassword&&e.jsxs("p",{className:"text-red-600",children:[" ",c.errors.confirmPassword]})}),e.jsx(F,{type:"submit",className:"bg-primary-textMovie w-full mt-10 p-6 hover:-translate-y-1 delay-150 hover:scale-105 transition duration-700 ease-in-out focus:bg-chairMovie-chairSelected hover:bg-primary-textMovie",children:e.jsx("span",{className:"text-white ",children:"Update"})})]}),e.jsx(Rs,{isOpen:l,setIsOpen:i,titlePass:"Account password changed successfully",paraPass1:"Your account password has been changed.",paraPass2:"Watch your favorite movies"}),e.jsx(Z,{position:"top-right",hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})},Ya=()=>{const s=de(),a=s.pathname==="/profile/privacy",t=s.pathname==="/profile/terms",o=s.pathname==="/profile/rename",l=s.pathname==="/profile/change-password",i=$(),{oppositeTheme:c,themeUniver:x,textClasses:d}=R(),[n,h]=r.useState({user:"",phone:"",passWord:""}),m=X(),[f,u]=r.useState(!1),[g,N]=r.useState(!1);r.useEffect(()=>{Le(I(O,"users/auth"),y=>{const v=y.val();console.log(v),v&&(h(T=>({...T,user:v.name,phone:v.phone})),u(!f),N(!0))})},[g]);const j=async()=>{const y={displayName:"user",photoURL:""};localStorage.setItem("user",JSON.stringify(y)),Fe("users/auth").then(()=>{N(!1),L.success("Logout SuccessFull !",{autoClose:2e3})}).catch(v=>{console.error("Error deleting movie:",v)}),Fe("users/userCard").then(()=>{N(!1),L.success("Logout SuccessFull !",{autoClose:2e3})}).catch(v=>{console.error("Error deleting movie:",v)}),N(!1),setTimeout(()=>{h(""),u(!f)},1900)},p=()=>{m("/l")};return e.jsxs("div",{className:`iphone-12-pro-max:flex flex flex-col h-[200vw]    text-center font-movie   relative ${x}`,children:[!a&&!t&&!o&&!l&&e.jsxs("div",{children:[e.jsx("h1",{className:"text-center font-bold text-xl ",children:"Profile"}),e.jsx("div",{className:"flex justify-center items-center mt-10",children:e.jsx("img",{src:"https://github.com/shadcn.png",width:100,alt:"Profile",className:"rounded-lg"})}),e.jsxs("div",{className:"my-5",children:[e.jsx("p",{className:"font-bold text-2xl",children:n?n.user:"user"}),e.jsx("p",{className:"text-gray-500",children:n?n.phone:"number  phone"})]}),e.jsxs("div",{className:"px-5    ",children:[e.jsx(b,{className:d,to:"/profile/rename",children:e.jsxs("div",{className:"flex justify-between items-center py-5",children:[e.jsxs("div",{className:"flex",children:[e.jsx(Rt,{size:30}),e.jsx("p",{className:"text-2xl pl-5",children:" Edit Profile"})]}),e.jsx(he,{size:24})]})}),e.jsx("hr",{}),e.jsxs(b,{className:d,to:"/tickets",children:[e.jsxs("div",{className:"flex justify-between items-center py-5",children:[e.jsxs("div",{className:"flex",children:[e.jsx(ns,{size:30}),e.jsx("p",{className:"text-2xl pl-5",children:"My Ticket"})]}),e.jsx(he,{size:24})]}),e.jsx("hr",{})]}),e.jsxs(b,{className:d,to:"/profile/change-password",children:[e.jsxs("div",{className:"flex justify-between items-center py-5",children:[e.jsxs("div",{className:"flex",children:[e.jsx(It,{size:30}),e.jsx("p",{className:"text-2xl pl-5",children:"Change Password"})]}),e.jsx(he,{size:24})]}),e.jsx("hr",{})]}),e.jsxs(b,{className:d,to:"/profile/privacy",children:[e.jsxs("div",{className:"flex  justify-between items-center py-5",children:[e.jsxs("div",{className:"flex",children:[e.jsx("box-icon",{name:"check-shield",size:"34px",color:`${i.theme==="dark"?"#e1e1e1":"black"}`,children:" "}),e.jsx("p",{className:"text-2xl pl-5",children:"Privacy Policy"})]}),e.jsx(he,{size:24})]}),e.jsx("hr",{})]}),e.jsx(b,{className:`${d} hover:${d}`,to:"/profile/terms",children:e.jsxs("div",{className:"flex  justify-between items-center py-5",children:[e.jsxs("div",{className:"flex",children:[e.jsx("box-icon",{name:"check-shield",size:"34px",color:`${i.theme==="dark"?"#e1e1e1":"black"}`,children:" "}),e.jsx("p",{className:"text-2xl pl-5",children:"Terms & Conditions"})]}),e.jsx(he,{size:24})]})})]}),e.jsx("div",{className:"px-5",children:f?e.jsxs(F,{onClick:p,className:"text-xl mt-10 bg-chairMovie-chairSelected hover:bg-chairMovie-chairSelected text-white focus:bg-chairMovie-chairSelected w-full p-5 h-[60px] rounded-lg  ",children:[e.jsx(zt,{size:24,className:"mr-2 "}),"Login"]}):e.jsxs(F,{onClick:j,className:"text-xl mt-10 bg-chairMovie-chairSelected hover:bg-chairMovie-chairSelected  text-white focus:bg-chairMovie-chairSelected  w-full h-[60px] p-5 rounded-lg  ",children:[e.jsx(Ot,{size:24,className:"mr-2"}),"Logout"]})})]}),a&&e.jsx(Vs,{}),t&&e.jsx(qs,{}),o&&e.jsx(Hs,{}),l&&e.jsx(Gs,{}),e.jsx("div",{className:"fixed bottom-0 w-full",children:e.jsx(je,{data:"user"})})]})},Qa=(s,a)=>{const[t,o]=r.useState(s);return r.useEffect(()=>{const l=setTimeout(()=>{o(s)},a);return()=>{clearTimeout(l)}},[s,a]),t},Ja=()=>{const s=At({name:Bt().min(1,{message:"Required"})});Ft({resolver:Et(s)}),$();const{inputClasses:a,textClasses:t,buttonClasses:o,themeUniver:l}=R(),[i,c]=r.useState([]),[x,d]=r.useState(""),[n,h]=r.useState(!0),[m,f]=r.useState(!0),[u,g]=r.useState(""),N=Qa(x,500);r.useEffect(()=>{(async()=>{try{const p=await E("data/movies");p&&(c(p),f(!0))}catch(p){console.error(p)}finally{f(!1)}})(),x&&h(!0)},[x]),r.useEffect(()=>{if(N.length===0){h(!1),g("Nhập tên phim");return}const p=i.filter(y=>y.title.toLowerCase().includes(N.toLowerCase()));c(p),p.length>0?h(!0):(h(!1),g("Tên phim không tồn tại hệ thống")),setTimeout(()=>{g(""),h(!0)},2e3)},[N,i,x]);const j=p=>{p.key==="Enter"&&(p.preventDefault(),d(p.target.value),console.log(N))};return e.jsx("div",{children:e.jsxs("div",{children:[e.jsxs("div",{className:`iphone-12-pro-max:flex flex flex-col   min-h-screen   overflow-scroll font-movie  pt-10 px-5 ${l}  `,children:[e.jsxs("div",{className:"relative",children:[e.jsx(V,{onChange:p=>d(p.target.value),onKeyDown:j,placeholder:"Search",className:`w-full pl-10  outline-none py-7  ${a} ${n?"border-none":"border-red-500"}`}),e.jsxs("p",{className:"text-primary-textMovie animate-pulse",children:["  ",n?null:u]}),e.jsx(Ut,{size:30,className:`absolute top-3 left-2 ${t}`})]}),e.jsx("div",{className:"  ",children:!m&&i.length>0?i.map(p=>e.jsx("div",{children:e.jsx(b,{to:"/itemLove",state:{data:p},children:e.jsxs("div",{className:`flex-shrink-0 w-[calc(100% / 3)] pr-2 mt-10 flex  rounded-3xl p-5 ${o}`,children:[e.jsx("div",{className:"",children:e.jsx("img",{src:p.poster,alt:p.Title,loading:"lazy",className:"rounded-xl h-[100px] w-[100px] bg-contain object-cover "})}),e.jsxs("div",{className:"flex flex-col justify-around pl-6",children:[e.jsx("h2",{className:"font-[700] text-xl",children:Y(p.title,15)}),e.jsx("p",{className:"text-gray-400 text-xs",children:p.theFirm}),e.jsxs("p",{className:"text-xs",children:["Language:",p.language]})]})]},p.id)})})):e.jsx("div",{class:`flex-shrink-0 w- pr-2 mt-10 flex  rounded-3xl p-5 ${o}`,children:e.jsxs("div",{class:"animate-pulse flex space-x-4",children:[e.jsx("div",{class:"rounded-xl bg-slate-700 h-[100px] w-[100px]"}),e.jsxs("div",{class:"flex-1 space-y-6 py-1",children:[e.jsx("div",{class:"h-2 bg-slate-700 rounded w-[200px]"}),e.jsxs("div",{class:"space-y-10",children:[e.jsxs("div",{class:"grid grid-cols-3 gap-4",children:[e.jsx("div",{class:"h-2 bg-slate-700 rounded col-span-2"}),e.jsx("div",{class:"h-2 bg-slate-700 rounded col-span-1"})]}),e.jsx("div",{class:"h-2 bg-slate-700 rounded"})]})]})]})})})]}),e.jsx("div",{className:"fixed bottom-0 w-full",children:e.jsx(je,{data:"search"})})]})})},Ka=()=>{$();const{textClasses:s,themeUniver:a,buttonClasses:t}=R(),[o,l]=r.useState([]);return r.useEffect(()=>{(async()=>{try{const i=I(O,"users/loveMovie");Le(i,c=>{const x=c.val();x&&l(x)})}catch(i){console.error(i)}})()},[]),e.jsxs("div",{children:[e.jsxs("div",{className:`iphone-12-pro-max:flex flex flex-col min-h-screen font-movie px-5 pt-10 pb-20 ${a} `,children:[e.jsx("h1",{className:"text-center font-logo",children:"Favourite Movies"}),e.jsx("div",{className:"grid grid-cols-2 gap-10 mt-10    ",children:o.length>0?o.map(i=>e.jsx("div",{children:e.jsxs(b,{to:"/itemlove",state:{data:i},className:`${s} hover:${s}`,children:[e.jsx("div",{className:" saturate-100",children:e.jsx("img",{src:i.poster,alt:i.title,loading:"lazy",className:"rounded-2xl  h-[210px] w-full  bg-cover  object-cover"})}),e.jsxs("div",{className:"mt-2",children:[e.jsx("h2",{className:"font-[700] ",children:Y(i.title,15)}),e.jsx("p",{className:"text-gray-400 text-xs",children:i.type.join(",")})]})]})},i.id)):e.jsx("div",{className:`flex-shrink-0 w- pr-2 mt-10 flex  rounded-3xl p-5 ${t}`,children:e.jsxs("div",{className:"animate-pulse flex space-x-4",children:[e.jsx("div",{class:"rounded-xl bg-slate-700 h-[100px] w-[100px]"}),e.jsxs("div",{class:"flex-1 space-y-6 py-1",children:["No favorites here.",e.jsxs("div",{class:"space-y-10",children:["Please add your favorite movies",e.jsx("div",{class:"grid grid-cols-3 gap-4"})]})]})]})})})]}),e.jsx("div",{children:e.jsx(je,{data:"love"})})]})},Xa=()=>{const s=$(),{color:a}=$(),{setDataUser:t}=Ce(),o=de(),{data:l}=o.state||{},i=l;ie();const{buttonClasses:c,inputClasses:x,textClasses:d,backGround:n,themeUniver:h,buttonCLick:m}=R(),[f,u]=r.useState(!1);r.useEffect(()=>{t(y=>({...y,dataIdBook:l})),(async()=>{const y=I(O,"users/loveMovie"),v=await W(y),A=(v.exists()?v.val():[]).some(q=>q.id===i.id);u(A)})()},[i.id,t]),r.useEffect(()=>{(async()=>{try{const p=I(O,"users/dataLastMovie"),y=await W(p);let v=y.exists()?y.val():[];if(v.some(T=>T.id===i.id))return;v.push(i),await oe(p,v)}catch(p){console.error("Error adding to love list:",p)}})()},[]);const g=async()=>{const p=I(O,"users/loveMovie"),y=await W(p);if(y.exists()){const v=y.val();for(const T in v)if(v[T].id===i.id){await Ge(I(O,`users/loveMovie/${T}`)),L.success("Remove List Successfully"),u(!1);return}}else console.log("Danh sách 'loveMovie' trống.")},N=async()=>{try{const p=I(O,"users/loveMovie"),y=await W(p);let v=y.exists()?y.val():[];if(v.some(T=>T.id===i.id)){L.warning("Movie already in the love list.");return}v.push(i),await oe(p,v),L.success("Add Successful!"),u(!0)}catch(p){console.error("Error adding to love list:",p),L.error("Failed to add to love list.")}},j=async p=>{localStorage.setItem("pay",p.id);const y=I(O,"/users/dataTicket/book"),v=await W(y);let T=v.exists()?v.val():[];if(T.some(A=>A.id===p.id))console.log("fasle");else{const A=Fs(p);T.push(A),await oe(y,T)}};return e.jsxs("div",{children:[e.jsxs("div",{className:`iphone-12-pro-max:flex flex flex-col min-h-screen  font-movie px-5 ${h}`,children:[e.jsxs("div",{children:[e.jsx("div",{className:"translate-y-9",children:e.jsx(b,{to:"/love",children:e.jsx("box-icon",{name:"chevron-left",size:"40px",color:a})})}),e.jsx("h1",{className:"text-center font-logo",children:"Movie Details"})]}),e.jsxs("div",{className:"flex mt-10",children:[e.jsx("div",{className:"w-full",children:e.jsx("img",{src:l.poster,loading:"lazy",alt:"poster",className:"rounded-2xl h-[300px] w-full object-cover"})}),e.jsxs("div",{className:"flex flex-col justify-between px-10 text-center",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(gs,{className:`${s.theme==="travel"?"text-[#09FBD3]":"text-primary-textMovie"}`,size:35}),e.jsx("span",{className:"text-gray-400",children:"Type"}),e.jsx("p",{className:"font-logo",children:l.type[0]})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{children:e.jsx(bs,{className:`${s.theme==="travel"?"text-[#09FBD3]":"text-primary-textMovie"}`,size:35})}),e.jsx("span",{className:"text-gray-400",children:"Duration"}),e.jsx("p",{className:"font-logo text-sm",children:Ps(l.runtime)})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{children:e.jsx(ys,{className:`${s.theme==="travel"?"text-[#09FBD3]":"text-primary-textMovie"}`,size:35})}),e.jsx("span",{className:"text-gray-400",children:"Rating"}),e.jsxs("p",{className:"font-logo",children:[Number(l.rate).toFixed(1),"/10"]})]})]})]}),e.jsxs("div",{className:"my-5 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"font-w900",children:l.title}),e.jsx("p",{className:"text-gray-400 mt-2",children:l.theFirm})]}),e.jsx("div",{children:f?e.jsxs("div",{onClick:g,className:`flex w-[200px] p-4 items-center gap-2 ${m} cursor-pointer`,children:[e.jsx("span",{children:e.jsx(Vt,{size:30})}),e.jsx("p",{children:"Remove List"})]}):e.jsxs("div",{onClick:N,className:`flex w-[200px] p-4 items-center gap-5 ${m} cursor-pointer`,children:[e.jsx("span",{children:e.jsx(os,{size:30})}),e.jsx("p",{children:"Add List"})]})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-w900",children:"Descriptions"}),e.jsx("p",{children:l.description})]}),e.jsx("div",{className:`${m} h-16 mt-10 w-full`,children:e.jsx(b,{className:"text-white hover:text-white",to:"/boking",state:l.id,onClick:()=>j(l),children:e.jsx(F,{className:"w-full text-xl",children:"Select Seat"})})})]}),e.jsx(Z,{})]})},er=()=>{const[s,a]=r.useState([]),{btnSubmit:t,buttonClasses:o}=R();return r.useEffect(()=>{(async()=>{try{const i=(await E("users/dataTicket/book")).filter(c=>c.paid==!1);a(i)}catch(l){console.error(l)}finally{}})()},[]),e.jsxs("div",{className:"translate-y-7drop-shadow-2xl  font-movie h-screen  drop-shadow-lg",children:[s.length===0&&e.jsx("div",{class:`flex-shrink-0 w- pr-2 mt-10 flex    rounded-3xl p-5 ${o}`,children:e.jsxs("div",{class:"animate-pulse flex space-x-4",children:[e.jsx("div",{class:"rounded-xl bg-slate-700 h-[100px] w-[100px]"}),e.jsx("div",{class:"flex-1 space-y-6 py-1",children:e.jsx("div",{class:"space-y-10",children:"No Data Ticket . Please Book Ticket Movie"})})]})}),s.map(l=>e.jsxs("div",{className:` mt-5 flex flex-col rounded-lg  ${o}  `,children:[e.jsxs("div",{className:" flex justify-between p-2 ",children:[e.jsxs("div",{className:"flex ",children:[e.jsx("img",{src:l.poster,alt:"",className:"w-[120px] h-[100px] rounded-lg object-cover "}),e.jsx("div",{children:e.jsxs("div",{className:"pl-5 flex flex-col h-full justify-around",children:[e.jsx("h2",{className:"font-movie font-bold",children:Y(l.title,15)}),e.jsx("p",{className:"text-gray-400 text-[11px]  text-nowrap",children:l.theFirm}),e.jsxs("p",{className:"text-[11px] ",children:["Language: ",l.language]})]})})]}),e.jsx("div",{className:"bg-[#f5f3f3] h-8 w-14 flex justify-center items-center mt-12 rounded-md",children:e.jsx(b,{className:"text-black",children:e.jsx(F,{children:" Paid"})})})]}),e.jsx("div",{className:"p-2 flex gap-2",children:e.jsx(b,{className:" border-1 w-full text-inherit",children:e.jsx(F,{className:"border-gray-300  w-full",children:"View Details"})})})]},l.id))]})},sr=({data:s,text:a,isOpen:t,setIsOpen:o,setDataLoad:l,dataLoad:i})=>{r.useMemo(()=>s&&s.title?Y(s.title,15):"",[s]),r.useState(0);const[c,x]=r.useState(""),d=m=>{x(m.target.value)},n=["I have a better deal","Some other work, can't come","I want to book another movie","Location is too far from my location","Another reason"],h=async()=>{await Oe(s,{paid:!1}),o(!t),l(!i),L("🦄 Wow so easy!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})};return e.jsx("div",{children:e.jsx("div",{className:"",children:e.jsx(le,{open:t,onOpenChange:o,children:e.jsxs(ee,{className:"bg-white max-w-[96vw] right-3   rounded-lg border-none ",children:[e.jsxs(se,{children:[e.jsx(te,{children:"Cancel Booking"}),e.jsx(ae,{children:e.jsx("p",{className:"text-gray-500 mb-5",children:" Please select the reason for cancellation"})}),e.jsxs("div",{children:[n.map((m,f)=>e.jsxs("div",{className:"flex p-3 ",children:[e.jsx("input",{type:"radio",name:"reason",value:m,checked:c===m,onChange:d,style:{marginRight:"20px"}}),e.jsx("label",{children:m})]},f)),e.jsx("div",{children:e.jsx("textarea",{placeholder:"Tell us reason",className:"h-52 border-[1px] w-full outline-none p-5"})})]})]}),e.jsx(ze,{className:" flex gap-2 p-2",children:e.jsx(xe,{onClick:h,className:"w-full bg-primary-textMovie text-white mt-2 text-xl ",children:"Submit"})})]})})})})},tr=r.memo(sr),ar=()=>{const[s,a]=r.useState([]),[t,o]=r.useState([]),[l,i]=r.useState(!1),[c,x]=r.useState(!1),{inputClasses:d,backGround:n,textClasses:h,themePaid:m,buttonClasses:f,btnSubmit:u}=R();$(),r.useEffect(()=>{(async()=>{try{const p=(await E("users/dataTicket/book")).filter(y=>y.paid==!0);a(p)}catch(j){console.error(j)}finally{}})()},[c]);const g=r.useMemo(()=>s.map(j=>({...j,truncatedTitle:Y(j.title,15)})),[s]),N=j=>{i(!l),o(j.id),L.success("Cancel SuccessFull !"),console.log(c)};return e.jsxs("div",{className:"translate-y-7 font-movie drop-shadow-lg h-screen pb-[50px]",children:[s.length===0&&e.jsx("div",{class:`flex-shrink-0 w- pr-2 mt-10 flex    rounded-3xl p-5 ${f}`,children:e.jsxs("div",{class:"animate-pulse flex space-x-4",children:[e.jsx("div",{class:"rounded-xl bg-slate-700 h-[100px] w-[100px]"}),e.jsx("div",{class:"flex-1 space-y-6 py-1",children:e.jsx("div",{class:"space-y-10",children:"No Data Ticket . Please Book Ticket Movie"})})]})}),g.map(j=>e.jsxs("div",{className:`mt-5 flex flex-col rounded-lg ${f}`,children:[e.jsxs("div",{className:"flex justify-between p-2",children:[e.jsxs("div",{className:"flex",children:[e.jsx("img",{src:j.poster,alt:"",loading:"lazy",className:"w-[120px] h-[100px] rounded-lg object-cover"}),e.jsx("div",{children:e.jsxs("div",{className:"pl-5 flex flex-col h-full justify-around",children:[e.jsx("h2",{className:"font-movie font-bold text-sm",children:j.truncatedTitle}),e.jsx("p",{className:"text-gray-400  text-[11px] text-nowrap",children:j.theFirm}),e.jsxs("p",{className:"text-[11px]",children:["Language: ",j.language]})]})})]}),e.jsx("div",{className:`h-8 w-14 flex justify-center items-center mt-12 rounded-md ${m}`,children:e.jsx(b,{className:"text-chairMovie-chairSelected hover:text-primary-textMovie ",children:e.jsx(F,{children:"Paid"})})})]}),e.jsxs("div",{className:"p-2 flex gap-2",children:[e.jsx("div",{onClick:()=>N(j),className:`border-gray-500 ${h} border-[1px] flex justify-center items-center w-full h-10 text-nowrap rounded-lg`,children:"Cancel Booking"},j.id),e.jsx("div",{className:`${u}  rounded-lg drop-shadow-xl  w-full group-hover:opacity-1 flex justify-center items-center`,children:e.jsx(b,{className:" text-white hover:text-white  ",to:"/qrcode",onClick:()=>localStorage.setItem("pay",j.id),children:"View Ticket"})})]}),e.jsx(tr,{data:t,isOpen:l,setIsOpen:i,setDataLoad:x,dataLoad:c})]},j.id))]})},rr=({data:s,key:a,text:t,setRatingandReview:o,starReveiew:l,onSubmit:i,isOpen:c,setIsOpen:x})=>{const d=r.useMemo(()=>s&&s.title?Y(s.title,15):"",[s]),n=h=>{console.log(h),l.rating===h?o(m=>({...m,id:0,rating:0})):o(m=>({...m,id:s.id,rating:h}))};return e.jsx("div",{children:e.jsx("div",{children:e.jsx(le,{open:c,onOpenChange:x,children:e.jsxs(ee,{className:"bg-white max-w-[96vw] right-3 ",children:[e.jsxs(se,{children:[e.jsx(te,{children:"Leave a Review"}),e.jsx(ae,{children:e.jsx("p",{className:"text-gray-500 mb-5 ",children:" Phlase share your valuable review"})})]}),e.jsxs("div",{className:"drop-shadow-2xl",children:[e.jsxs("div",{className:"flex bg-gray-50 p-2 rounded-lg justify-between  ",children:[e.jsxs("div",{className:"flex",children:[e.jsx("img",{src:s.poster,alt:"",className:"w-[120px] h-[100px] rounded-lg object-cover "}),e.jsx("div",{children:e.jsxs("div",{className:"pl-5 flex flex-col h-[100px] justify-evenly  text-left ",children:[e.jsx("h2",{className:"font-movie font-bold ",children:d}),e.jsx("p",{className:"text-gray-500 text-[11px]  text-nowrap",children:s.theFirm}),e.jsxs("p",{className:"text-[11px] ",children:["Language: ",s.language]})]})})]}),e.jsx("div",{className:"  h-8 w-14 flex justify-center items-center mt-12 rounded-md",children:e.jsx(b,{className:"text-gray-500",children:e.jsx(F,{children:" Paid"})})})]}),e.jsxs("div",{className:"text-center  ",children:[e.jsx("div",{className:"my-5",children:e.jsx(qt,{component:"legend",children:"Please give your rating with us"})}),e.jsx("div",{className:" flex flex-row justify-around mb-5",children:[1,2,3,4,5].map((h,m)=>e.jsx("div",{className:"",children:e.jsx("i",{class:`fa-star fa-xl ${m<l.rating?"fa-solid":"fa-regular"}`,style:{cursor:"pointer",color:m<l.rating?"gold":"black "},onClick:()=>n(m+1)})},h))}),e.jsx("div",{className:""})]})]}),e.jsx("textarea",{onChange:h=>o(m=>({...m,review:h.target.value})),className:"p-5    w-full outline-none border-gray-400 border-[1px] h-[210px]   opacity: 1 bg-none",placeholder:"Add a Comment"}),e.jsxs(ze,{className:" flex gap-2 p-5 ",children:[e.jsx(Ds,{className:"w-full bg-[#fafafa] text-xl ",children:"Cancel"}),e.jsx(xe,{onClick:i,className:"w-full bg-primary-textMovie text-white mt-2 text-xl ",children:"Submit"})]})]})})})})},lr=r.memo(rr),or=async(s,a,t,o)=>{try{const l=I(O,s),i=await W(l);if(i.exists()){const c=i.val();for(const x in c)if(c[x].id==t){await ne(I(O,`${a}${x}`),o);return}console.log("No matching booking found.")}else console.log("No data found in 'book' path.")}catch(l){console.error("Error updating data:",l)}},nr=()=>{const[s,a]=r.useState([]),[t,o]=r.useState({rating:0,review:"",id:0}),[l,i]=r.useState(!1),[c,x]=r.useState([]),[d,n]=r.useState(!1),h=v=>{x(v)},m=async()=>{try{await or("data/movies","data/movies/",t.id,{rate:t.rating,review:t.review}),await Oe(t.id,{past:!0}),n(!d),o("")}catch(v){console.log(v),L.error("An error occurred. Please try again.")}};d&&L.success("Review SuccessFull ! Thank you <3");const{inputClasses:f,backGround:u,textClasses:g,themePaid:N,themePaidDone:j,buttonClasses:p,btnSubmit:y}=R();return r.useEffect(()=>{(async()=>{try{const A=(await E("users/dataTicket/book")).filter(q=>q.paid==!0);a(A)}catch(T){console.error(T),L.error("An error occurred. Please try again.")}})()},[d]),e.jsxs("div",{className:"  font-movie  drop-shadow-lg pb-[50px] h-screen ",children:[s.length===0&&e.jsx("div",{class:`flex-shrink-0 w- pr-2 mt-10 flex    rounded-3xl p-5 ${p}`,children:e.jsxs("div",{class:"animate-pulse flex space-x-4",children:[e.jsx("div",{class:"rounded-xl bg-slate-700 h-[100px] w-[100px]"}),e.jsx("div",{class:"flex-1 space-y-6 py-1",children:e.jsx("div",{class:"space-y-10",children:"No Data Ticket . Please Book Ticket Movie"})})]})}),s.map((v,T)=>e.jsxs("div",{className:`mt-5 flex flex-col rounded-lg ${p}`,children:[e.jsx(lr,{data:c,isOpen:l,setIsOpen:i,onSubmit:m,setRatingandReview:o,starReveiew:t},v.id),e.jsxs("div",{className:" flex justify-between p-2 ",children:[e.jsxs("div",{className:"flex ",children:[e.jsx("img",{src:v.poster,alt:"",className:"w-[120px] h-[100px] rounded-lg object-cover "}),e.jsx("div",{children:e.jsxs("div",{className:"pl-5 flex flex-col h-full justify-around",children:[e.jsx("h2",{className:"font-movie font-bold text-nowrap",children:Y(v.title,15)}),e.jsx("p",{className:"text-gray-400 text-[11px]  text-nowrap",children:v.theFirm}),e.jsxs("p",{className:"text-[11px] ",children:["Language: ",v.language]})]})})]}),e.jsx("div",{className:` h-8 w-14 flex justify-center  items-center mt-12 rounded-md ${N} `,children:e.jsx(b,{className:`${j}`,children:"Paid"})})]}),e.jsxs("div",{className:"p-2 flex gap-2 w-full justify-between",children:[e.jsx(b,{className:` border-1 w-full ${g}`,children:e.jsx(F,{className:"border-gray-300  w-full",children:"View Details"})}),v.past?e.jsx("button",{onClick:()=>{h(v),i(!l)},className:`${y} w-full h-10 text-nowrap rounded-lg`,children:"Edit a review"}):e.jsx("button",{onClick:()=>{h(v),i(!l)},className:`${y} w-full h-10 text-nowrap rounded-lg`,children:"Write a review"})]})]},v.id))]})},ir=()=>{$();const{textClasses:s,backGroundTow:a,backGround:t,themeUniver:o,buttonClasses:l,inputClasses:i,btnSubmit:c}=R(),[x,d]=r.useState("Update"),n=u=>{d(u)},h=({label:u,isActive:g,onClick:N})=>e.jsx("div",{children:e.jsx("button",{className:`flex justify-center items-center text-sm px-8 py-4 ${s} ${g?c:i} p-2 rounded-lg transition-colors duration-300 ease-in-out`,onClick:N,children:u})}),m=({content:u,isActive:g})=>e.jsx("div",{className:`mt-10 ${g?"text-black opacity-1":"text-black opacity-0"}`,children:g&&u}),f=[{label:"Upcoming",value:"Update",content:e.jsx(ar,{})},{label:"Past",value:"Past",content:e.jsx(nr,{})},{label:"Cancelled",value:"Cancell",content:e.jsx(er,{})}];return e.jsxs("div",{className:`${o} h-full min-w-full`,children:[e.jsxs("div",{className:" px-5 pt-5  ",children:[e.jsx("h1",{className:"text-center mb-5 font-bold font-movie",children:"My Tickets"}),e.jsx("div",{className:`flex justify-between  ${i} rounded-lg `,children:f.map((u,g)=>e.jsx(h,{label:u.label,isActive:x===u.value,onClick:()=>n(u.value)},g))}),e.jsx("div",{children:f.map((u,g)=>e.jsx(m,{content:u.content,isActive:x===u.value},g))})]}),e.jsx("div",{children:e.jsx(je,{data:"tickets"})})]})},cr=()=>{const s=de(),{data:a}=s.state||{};console.log(a);const{textClasses:t,backGroundTow:o,backGround:l,inputClasses:i,themeUniver:c}=R(),{color:x}=$(),d=$(),[n,h]=r.useState([]),[m,f]=r.useState([]);return r.useEffect(()=>{(async()=>{try{const u=await E("users/dataTicket/book"),g=await E("users/auth/name");f(g);const N=u.filter(j=>j.id==localStorage.getItem("pay"));h(N),console.log(n)}catch(u){console.log(u)}})()},[]),e.jsx("div",{children:n.length>0?n.map(u=>e.jsx("div",{children:e.jsxs("div",{className:`${c} iphone-12-pro-max:flex flex flex-col min-h-screen min-w-full  font-movie px-5 `,children:[e.jsxs("div",{children:[e.jsx("div",{className:"translate-y-9",children:e.jsx(b,{to:"/ticket",onClick:()=>localStorage.removeItem("pay"),children:e.jsx("box-icon",{name:"chevron-left",size:"40px",color:x,children:" "})})}),e.jsx("div",{children:e.jsx("h1",{className:"text-center font-logo",children:"View Ticket"})})]}),e.jsxs("div",{className:`${d.theme=="dark","bg-[#242024]"} w-full  h-full flex flex-col items-center z-0 justify-center mt-10 pt-10 rounded-lg gap-y-10  `,children:[e.jsxs("div",{className:"drop-shadow-2xl w-full text-center",children:[e.jsx("h2",{className:"text-center font-bold",children:"Scan This Qr"}),e.jsx("p",{children:"ponint this qr the scan place"})]}),e.jsx("div",{className:` ${d.theme=="dark"?"bg-[#242024]":"bg-light-bg"} p-10 rounded-3xl drop-shadow-2xl `,children:e.jsx(Ht,{value:u.codeQr,size:250})}),e.jsxs("div",{className:"flex w-full justify-between z-100",children:[e.jsx("div",{className:`rounded-r-3xl w-[60px] h-[50px] ${c} drop-shadow-none   `}),e.jsx("div",{className:"  border-b-[9px]  border-dashed border-gray-400 w-full -translate-y-5"}),e.jsx("div",{className:` rounded-l-3xl w-[60px] h-[50px] ${c} drop-shadow-none `})]}),e.jsxs("div",{className:"w-full p-10",children:[e.jsx("h2",{className:"text-center font-bold text-2xl ",children:u.codeQr}),e.jsxs("div",{className:"my-10 flex gap-10 flex-col",children:[e.jsxs("div",{className:"flex justify-between  ",children:[e.jsxs("div",{children:[e.jsx("p",{children:"Full name"}),e.jsx("span",{className:"font-bold",children:m||"Nguyen Van A"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{children:"Time"}),e.jsx("span",{className:"font-bold",children:u?u.timeBook[0].keyHours:null})]})]}),e.jsxs("div",{className:"flex justify-between  ",children:[e.jsxs("div",{children:[e.jsx("p",{children:"Date"}),e.jsx("span",{className:"font-bold",children:u?u.dateBook[0].dayOfWeek+" "+u.dateBook[0].dayOfMonth+", "+u.dateBook[0].date:""})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{children:"Seat"}),e.jsx("span",{className:"font-bold",children:u?u.seatBook.join(","):null})]})]})]})]})]})]})})):e.jsx("p",{children:"not Data"})})},dr=r.memo(cr),xr=()=>e.jsx("div",{className:"",children:e.jsx(Zt,{children:e.jsxs(Jt,{children:[e.jsx($a,{children:e.jsxs(Pe,{children:[e.jsx(B,{path:"/",element:e.jsx(_t,{})}),e.jsx(B,{path:"/login",element:e.jsx(Yt,{})}),e.jsx(B,{path:"/L",element:e.jsx(ra,{})}),e.jsx(B,{path:"/signup",element:e.jsx(va,{})}),e.jsx(B,{path:"/home",element:e.jsx(Sa,{})}),e.jsx(B,{path:"/reset",element:e.jsx(ga,{})}),e.jsx(B,{path:"/item",element:e.jsx(Ta,{})}),e.jsx(B,{path:"/search",element:e.jsx(Ja,{})}),e.jsx(B,{path:"/itemlove",element:e.jsx(Xa,{})}),e.jsx(B,{path:"/love",element:e.jsx(Ka,{})}),e.jsx(B,{path:"/ticket",element:e.jsx(ir,{})}),e.jsx(B,{path:"/lmovie",element:e.jsx(Pa,{})}),e.jsx(B,{path:"/boking",element:e.jsx(Ia,{})}),e.jsx(B,{path:"/pay",element:e.jsx(Ba,{})}),e.jsx(B,{path:"/qrcode",element:e.jsx(dr,{})})]})}),e.jsx(Pe,{children:e.jsxs(B,{path:"/profile",element:e.jsx(Ya,{}),children:[e.jsx(B,{path:"privacy",element:e.jsx(Vs,{})}),e.jsx(B,{path:"terms",element:e.jsx(qs,{})}),e.jsx(B,{path:"rename",element:e.jsx(Hs,{})}),e.jsx(B,{path:"change-password",element:e.jsx(Gs,{})})]})})]})})}),mr=()=>{const[s,a]=r.useState([]);return r.useEffect(()=>{(async()=>{try{const o=await E("data/movies");if(o){const l=Math.ceil(o.length/Math.ceil(Math.random()*o.length));a(o[l])}}catch(o){console.error(o)}finally{}})()},[1]),e.jsx("div",{className:"m-10",children:e.jsxs("div",{className:" flex flex-col font-movie   ",children:[e.jsx("div",{children:s?e.jsxs("div",{className:" w-full  flex flex-col items-center text-white relative h-[700px] ",children:[e.jsx("img",{src:s.poster,className:"w-full rounded-2xl opacity-90 bg-gradient-to-b object-cover  h-[700px] absolute bottom-0 ",alt:""}),e.jsx("div",{className:"bg-black w-full h-40 absolute bottom-0 opacity-25 rounded-lg z-0 blur-sm "}),e.jsxs("div",{className:" text-xl font-bold  absolute   bottom-0 flex flex-col items-center justify-center p-5 drop-shadow-2xl",children:[e.jsx("p",{className:"flex items-center z-10",children:s.type&&s.type.join(" 〄 ")}),e.jsxs("div",{className:"flex gap-3  z-10 mt-2 ",children:[e.jsxs("div",{className:"cursor-pointer flex rounded-lg bg-btn-gradient  px-2 py-5 text-nowrap w-full items-center justify-center gap-5",children:[e.jsx("span",{children:e.jsx(js,{})}),e.jsx("p",{children:"Book Tickets"})]}),e.jsxs("div",{className:"cursor-pointer flex w-full rounded-lg  bg-gray-800 px-2 py-5 text-nowrap items-center justify-center gap-4",children:[e.jsx("span",{children:e.jsx(vs,{})}),e.jsx("p",{className:"text-white",children:"Add list Love"})]})]})]})]}):null}),e.jsx("div",{children:e.jsx("h1",{})})]})})};Gt.createRoot(document.getElementById("root")).render(e.jsxs(Wt.StrictMode,{children:[e.jsx(Be,{children:e.jsx(xr,{})}),e.jsx(Be,{children:e.jsx(Pe,{children:e.jsx(B,{path:"/test",element:e.jsx(mr,{})})})})]}));
